!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Jvalid=t():e.Jvalid=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var l=t[r]={i:r,l:!1,exports:{}};return e[r].call(l.exports,l,l.exports,n),l.l=!0,l.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(r,l,function(t){return e[t]}.bind(null,l));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r=window.Jet,l=r.__base__;r.__base__._useList.push("valid");var a=l._JT,u="Jform",i="Jvalid",_=null,s=null,o={init:function(e){(null==(e=l._getJdomEle(e))?a.attr(i):e._JT_hasAttr(i)?e:e._JT_findAttr(i))._JT_each((function(e){e.__valided||(e._JT_on({blur:"Jet.valid.validInput(this,true,true)",input:function(){o.useOnInput&&o.validInput(this,!0,!0)},focus:"Jet.valid.addValidValue(this)"},!0).__valided=!0,o.__placeholder&&e._JT_attr("placeholder",g(e._JT_attr(i))))}))},findValidPar:function(e){for(var t=e._JT_parent();!t._JT_hasAttr(u)&&null!=t._JT_parent();)t=t._JT_parent();return t},regExp:{null:/^\S{0}$/,date:/^(([12]\d{3}-((0[1-9])|(1[0-2]))-((0[1-9])|([1-2]\d)|3(0|1))))$/,email:/^((\w*@\w*\.[A-Za-z.]+(\.)?[A-Za-z]+))$/,decimal:/^-?[1-9]\d*.\d*|0.\d*[1-9]\d*$/,idcard:/^(\d{17}(X|\d))$/,url:/^((https|http|ftp|rtsp|mms)?:\/\/)[^\s]+$/,phone:/^([1]\d{10})$/},validText:{CN:{nul:"*可以为空",notnull:"*必填",date:"*格式为XXXX-XX-XX",email:"*格式为XXX@XX.XX",number:"*须为纯数字",idcard:"*17位数字加一位数字或X",length:"*输入长度为",url:"*请输入正确的网址",decimal:"*请正确的小数",lengthOfAny:"*输入长度为",phone:"*须为11位纯数字",letterStart:"*字母开头且长度为",range:"*数字不在范围内",express:"*自定义错误"},EN:{nul:"*null is allowed",notnull:"*Required",date:"*format:XXXX-XX-XX",email:"*format:XXX@XX.XX",number:"*expect a number",idcard:"*17 numbers plus a number or X",length:"*length between",url:"*Expect an url name",decimal:"*Expect a float number",lengthOfAny:"*length between",phone:"*must be 11 digits",letterStart:"*letter start and length",range:"*not in range",express:"*wrong express"}},__lang:"CHINESE",__default:!0,__placeholder:!1,__useJUI:!1,__useOnInput:!1,useAlert:!1,validate:J,addValidText:function(e,t){if("json"==a.type(e)&&null==t)for(var n in e)o.addValidText(n,e[n]);else"CHINESE"==o.__lang?o.validText.CN[e]=t:o.validText.EN[e]=t},addRegExp:function(e,t,n){"string"==typeof t&&(t=new RegExp(t)),o.regExp[e]=t,void 0!==n&&o.addValidText(e,n)},validInput:c,addValidValue:function(e){e._JT_hasClass("jet-unpass")&&(e._JT_content(e._JT_validValue),p(e))},clearValid:function(e){(e=l._getJdomEle(e))._JT_hasAttr(i)?d(e):e._JT_findAttr(i)._JT_each((function(e){d(e)}))},resetValid:function(e){(e=l._getJdomEle(e))._JT_hasAttr(i)?f(e):e._JT_findAttr(i)._JT_each((function(e){f(e)}))},addValid:function(e,t){(e=l._getJdomEle(e))._JT_attr(i,t),o.init(e)},onOnePass:function(e){_=l._checkFunction(e)},onOneFail:function(e){s=l._checkFunction(e)}};function d(e){f(e),e._JT_removeAttr("jvalid jet-value")}function f(e){e._JT_hasClass("jet-unpass")&&e._JT_removeClass("jet-unpass")._JT_val(e._JT_validValue)}function p(e){!0===e._JT_ispw&&e._JT_attr("type","password")}function c(e,t,n){if(null===(e=l._getJdomEle(e)).offsetParent)return"true";var r=e._JT_attr(i),a="";if(null!=r){if(-1!=r.indexOf("lengthOfAny")){var u=r.substring(12,r.length-1).split(",");void 0===u[1]&&(u[1]=u[0]);var d=e._JT_content();a=d.length>=parseInt(u[0])&&d.length<=parseInt(u[1])?"true":T("lengthOfAny",u)}else a=function(e,t){if(-1!=e.indexOf("notnull")){if(0==t.length)return g("notnull")}else if(-1!=e.indexOf("null")){var n=e.split(" "),r="null"==n[0]?n[1]:n[0];if(-1!=r.indexOf("range"))if("true"!=(l=h(e,t))&&""!=t)return l;if(!v(r).test(t)&&""!=t)return g(r)}else{var l;if(-1!=e.indexOf("range")){if("true"!=(l=h(e,t)))return l}else if(!v(e).test(t))return g(e)}return"true"}(r,e._JT_content());"true"==a?(o.__default&&(e._JT_removeClass("jet-unpass"),e._JT_validValue=void 0,p(e)),null!=_&&_(e)):(null!=s&&s(e,a),o.__default&&(!0===n&&(e._JT_validValue=e._JT_content()),e._JT_content(a)._JT_addClass("jet-unpass"),"password"==e._JT_attr("type")&&(e._JT_ispw=!0,e._JT_attr("type","text"))),!1!==t&&(o.useJUI?window.JUI.msg.error(a):o.useAlert&&alert(a)))}return a}function J(e){"string"==typeof e&&(e={ele:e});var t=e.ele;"string"==typeof t&&((t=a.attr(u+"="+t))._JT_exist()||(t=l._getJdomEle(e.ele)));var n=[],r=!0;null==e.fail&&(r=!1);var _=!0;if(t._JT_findAttr(i)._JT_each((function(e){var t=function(e){return e._JT_hasClass("jet-unpass")?(null!=s&&s(e,e._JT_val()),e._JT_val()):c(e,!1)}(e);"true"!=t&&(_=!1,r&&(n[n.length]={obj:e,error:t}))})),_)null!=e.pass&&l._checkFunction(e.pass)(t);else{r&&l._checkFunction(e.fail)(n,t);var d="CHINESE"==o.__lang?"输入有误，请按提示改正。":"Values is not expected";o.useAlert?alert(d):o.useJUI&&window.JUI.msg.error(d)}}function g(e){var t=0;if(-1!=e.indexOf("range")?t=6:-1!=e.indexOf("letterStart")?t=12:-1!=e.indexOf("length")?t=7:e._JT_has("number")&&"number"!=e&&(t=7),0!=t){var n=e.substring(t,e.length-1).split(",");return void 0===n[1]&&(n[1]=n[0]),T(e.substring(0,t-1),n)}return T(e)}function T(e,t){if("CHINESE"==o.__lang){if(null==t)return e._JT_has("express")?o.validText.CN.express:o.validText.CN[e];var n="";return e._JT_has("number")&&(n=" 且长度为"),t[0]==t[1]?o.validText.CN[e]+n+t[0]:o.validText.CN[e]+n+"["+t[0]+","+t[1]+"]"}if(null==t)return e._JT_has("express")?o.validText.EN.express:o.validText.EN[e];n="";return e._JT_has("number")&&(n=" and length between"),t[0]==t[1]?o.validText.EN[e]+n+t[0]:o.validText.EN[e]+n+"["+t[0]+","+t[1]+"]"}function v(e){var t=-1,n=-1;if(-1!=e.indexOf("length")){var r=e.substring(7,e.length-1).split(",");e="length",t=r[0],null==r[1]&&(r[1]=r[0]),n=r[1]}else if(-1!=e.indexOf("letterStart")){r=e.substring(12,e.length-1).split(",");e="letterStart",t=r[0],null==r[1]&&(r[1]=r[0]),n=r[1]}else if(e._JT_has("number")&&"number"!=e){r=e.substring(7,e.length-1).split(",");e="number",t=r[0],null==r[1]&&(r[1]=r[0]),n=r[1]}else e._JT_has("express")&&(t=e.substring(8,e.length-1),e="express");if(e in o.regExp)return o.regExp[e];switch(e){case"number":return t>=0?new RegExp("^-?(\\d{"+t+","+n+"})$"):/^-?(\d+)$/;case"letterStart":return new RegExp("^([a-zA-Z]([a-zA-Z\\d]){"+(parseInt(t)-1)+","+(parseInt(n)-1)+"})$");case"length":return new RegExp("^(([a-zA-Z\\d]){"+t+","+n+"})$");case"express":return new RegExp(t);default:return"null"}}function h(e,t){var n=e.substring(6,e.length-1).split(",");return v(e="number").test(t)?parseInt(t)<parseInt(n[0])||parseInt(t)>parseInt(n[1])?T("range",n):"true":T("number")}Object.defineProperties(o,{language:{get:function(){return o.__lang},set:function(e){o.__lang=e.toUpperCase()}},useJUI:{get:function(){return o.__useJUI},set:function(e){"undefined"!=typeof JUI&&(o.__useJUI=e)}},useDefaultStyle:{get:function(){return o.__default},set:function(e){o.__default!==e&&(!0===o.__useOnInput&&!0===e?l._warn("useOnInput 模式下不可使用默认样式"):(o.__default=e,o.__lastUseDef=e,!1===e&&a.cls("jet-unpass")._JT_each((function(e){p(e),e._JT_removeClass("jet-unpass")._JT_val(e._JT_validValue),e._JT_validValue=void 0}))))}},useOnInput:{get:function(){return o.__useOnInput},set:function(e){o.__useOnInput!==e&&(o.__useOnInput=e,!1===e?o.__default!==o.__lastUseDef&&(o.useDefaultStyle=o.__lastUseDef):o.useDefaultStyle&&(o.useDefaultStyle=!1,o.__lastUseDef=!0))}},showInPlaceHolder:{get:function(){return o.__placeholder},set:function(e){o.__placeholder=e,!0===e?a.attr(i)._JT_each((function(e){e._JT_attr("placeholder",g(e._JT_attr(i)))})):!1===e&&a.attr(i)._JT_each((function(e){e._JT_removeAttr("placeholder")}))}}}),o.init(),HTMLElement.prototype._JT_validate=function(e,t){J({ele:this,pass:e,fail:t})},window.Jet.valid=o,t.default=o}]).default}));