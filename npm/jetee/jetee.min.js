!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Jet=e():t.Jet=e()}(window,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(Jet){var C=Jet.__base__;Jet.__base__._useList.push("css-config");var _JT=C._JT,_reg=new RegExp("({{)((.|\\n)*?)(}})","g"),_numReg=new RegExp("(\\[)((.|\\n)*?)(\\])","g"),_cssConfCom="CssConfCommon",conf={preloadCss:function(t){var m=t.match(new RegExp("(\\(\\()((.|\\n)*?)(\\)\\))","g"));if(null!==m){var vars=[];m.forEach((function(item){var _i=item.indexOf("[");if(-1!=_i){var arr=eval(item.match(_numReg)[0]),_v=item.substring(2,_i).trim(),_var=conf.conf.variable[_v],_varMatch=_var.match(_reg);null!==_varMatch&&(arr.forEach((function(t,e){_var=_var.replace(new RegExp("(({{"+(e+1)+"\\|)((.|\\n)*?)(}}))|(\\{\\{"+(e+1)+"\\}\\})","g"),t)})),_var=_var.replace(new RegExp("{{[0-9]*\\||{{|}}","g"),"")),vars.push(item),t=t.replace(item,_var)}else{var pure=item.replace(/\s/g,"");-1==vars.indexOf(item)&&(vars.push(item),t=t.replace(new RegExp("\\(\\("+item.substring(2,item.length-2)+"\\)\\)","g"),conf.conf.variable[pure.substring(2,pure.length-2)]))}}))}return t.replace(/[\r\n]/g,"")}},o=document.createElement("style");o.setAttribute("type","text/css");var confCommon=o.cloneNode()._JT_attr("style-type",_cssConfCom);function _loadCommonCssCall(t,e){if(0==e)if(t.length>0){var n=C._less(conf._replaceCssVar(t.join("")));Jet.__css_conf.conf.commonScoped&&(n=C._addScopedCss(n,"RouterOut")),confCommon._JT_exist()?t.join("")!=confCommon.innerHTML&&confCommon._JT_html(n):(confCommon=_JT.ct("style")._JT_attr({type:"text/css","style-type":_cssConfCom})._JT_html(n),document.head.appendChild(confCommon))}else confCommon._JT_exist((function(t){t._JT_empty()}))}document.head.appendChild(confCommon),conf._loadCommonCss=function(){var t=[],e=Jet.router.path.substring(Jet.router.base.length),n=0,i=[];Jet.__css_conf.conf.common.forEach((function(t){if(-1!=t.router.indexOf(e)){var s=t.css.trim();if(".css"==s.substring(s.length-4)){var r=s.split(",");i.push(r),n+=r.length}else i.push(t.css),n++}})),0==i.length&&confCommon._JT_empty(),i.forEach((function(e){"string"==typeof e?(n--,t.push(e),_loadCommonCssCall(t,n)):e.forEach((function(e){_JT.load(C._getSrc(e,"css"),(function(e){n--,t.push(e),_loadCommonCssCall(t,n)}))}))}))},conf._replaceCssVar=function(t){var m=t.match(new RegExp("(\\(\\()((.|\\n)*?)(\\)\\))","g"));if(null!==m){var vars=[];m.forEach((function(item){var _i=item.indexOf("[");if(-1!=_i){var arr=eval(item.match(C._numReg)[0]),_v=item.substring(2,_i).trim(),_var=Jet.__css_conf.conf.variable[_v],_varMatch=_var.match(_reg);null!==_varMatch&&(arr.forEach((function(t,e){_var=_var.replace(new RegExp("(({{"+(e+1)+"\\|)((.|\\n)*?)(}}))|(\\{\\{"+(e+1)+"\\}\\})","g"),t)})),_var=_var.replace(new RegExp("{{[0-9]*\\|","g"),"").replace(new RegExp("}}","g"),"")),vars.push(item),t=t.replace(item,_var)}else{var pure=item.replace(/\s/g,"");-1==vars.indexOf(item)&&(vars.push(item),t=t.replace(new RegExp("\\(\\("+item.substring(2,item.length-2)+"\\)\\)","g"),Jet.__css_conf.conf.variable[pure.substring(2,pure.length-2)]))}}))}return t.replace(/[\r\n]/g,"")},Jet.__css_conf=conf,Jet.style=function(t){Jet.__css_conf.conf=t}}},function(t,e,n){"use strict";n.r(e);var i={cls:function(t){return h(document.getElementsByClassName(t))},id:function(t){return h(document.getElementById(t))},tag:function(t){return h(document.getElementsByTagName(t))},attr:function(t){return h(document.querySelectorAll("["+t+"]"))},name:function(t){return h(document.getElementsByName(t))},select:function(t){return h(document.querySelectorAll(t))},body:function(){return document.body},type:u,ct:function(t){return document.createElement(t)},ajax:o,cookie:a,storage:r,load:_,clone:s,html5:function(){return!!window.applicationCache},urlParam:function(){var t="";""!=location.search?t=location.search.substring(1):location.hash._JT_has("?")&&(t=location.hash.substring(location.hash.indexOf("?")+1));if(""==t)return null;for(var e=decodeURI(t).split("&"),n={},i=0;i<e.length;i++){var s=e[i].split("=");n[s[0]]=s[1]}return n},delay:function(t,e){return e=e||500,setTimeout((function(){t.call(this)}),e)},interval:function(t,e,n){n=n||500;var i=setInterval((function(){t.call(this)&&(clearInterval(i),e.call(this))}),n);return i},clearDelay:function(t){return setTimeout(t)},clearInterval:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return clearInterval(t)}))};function s(t){if(null!=t){var e=u(t);if("htmlelement"==e||"array"==e)return t._JT_clone();if("json"==e||"object"==e){var n=new Object;for(var i in t)null==t[i]||null==t[i]?n[i]=t[i]:"array"==u(t[i])?n[i]=t[i]._JT_clone():"json"==u(t[i])||"object"==u(t[i])?n[i]=s(t[i]):n[i]=t[i];return n}return t}}function r(t,e,n){if("object"!=typeof t||null===t){var i=n?sessionStorage:localStorage;if(void 0===e){if(void 0===t){var s={};return Object.keys(i).forEach((function(t){s[t]=i.getItem(t)})),s}if(null===t)Object.keys(i).forEach((function(t){i.removeItem(t)}));else{var a=i.getItem(t);try{return JSON.parse(a)}catch(t){return a===parseFloat(a).toString()?parseFloat(a):a}}}else{if(null!==e)return"object"==typeof e?i.setItem(t,JSON.stringify(e)):i.setItem(t,e),e;i.removeItem(t)}}else for(var o in t)r(o,t[o],n)}function a(t,e,n,i){if(1==arguments.length){if(document.cookie.length>0){var s=document.cookie.indexOf(t+"=");if(-1!=s){s=s+t.length+1;var r=document.cookie.indexOf(";",s);return-1==r&&(r=document.cookie.length),unescape(document.cookie.substring(s,r))}}return""}if(null!=e){var o=t+"="+escape(e);if(null!=n){var _=new Date;_.setDate(_.getDate()+n),o+=";expires="+_.toGMTString()}return null!=i&&("boolean"==u(i)?i&&(o+=";path=/"):o+=";path="+i),document.cookie=o,t+"="+e}a(t,"",-1)}function o(t){var e,n={type:t.type||"get",url:t.url||"",async:t.async||!0,data:t.data||null,dataType:t.dataType||"text",contentType:t.contentType||"application/x-www-form-urlencoded",beforeSend:t.beforeSend||function(){},success:t.success||function(){},error:t.error||function(){},header:t.header||{}};n.beforeSend(),window.XMLHttpRequest?e=new XMLHttpRequest:window.ActiveXObject&&(e=window.ActiveXObject("Microsoft.XMLHTTP"));var i=function(t){if(null==t)return"";var e=u(t);if("json"==e){var n="";for(var i in t)"object"==typeof t[i]?n+=i+"="+encodeURIComponent(JSON.stringify(t[i]))+"&":n+=i+"="+encodeURIComponent(t[i])+"&";return n=n.substring(0,n.length-1)}return"array"==e?JSON.stringify(t):(u(t),t)}(n.data),s=n.type.toLowerCase();for(var r in"get"==s&&""!==i&&(n.url=n.url+"?"+i),e.open(n.type,n.url,n.async),e.responseType=n.dataType,null!==t.contentType&&e.setRequestHeader("Content-Type",n.contentType),n.header)e.setRequestHeader(r,n.header[r]);return"get"==n.type.toLowerCase()?e.send():e.send(i),e.onreadystatechange=function(){4==e.readyState&&(200==e.status?n.success(e.response||e.responseText):n.error(e.response||e.responseText))},e}function _(t,e,n){return i.ajax({url:t,async:!0,success:function(t){e(t)},error:function(e){null!=n&&n(e),f("加载失败:"+t)}})}function l(t){if(null==t)return function(){};var e=i.type(t);return"function"==e?t:"string"==e?new Function(t):function(){}}function h(t){return null==t||null==t?[]:1==t.length?t[0]:t}function u(t){if(0!=arguments.length){var e=typeof t;if("object"==e){if(null===t)return"null";switch(t.constructor){case Object:e="json";break;case Array:e="array";break;case HTMLCollection:e="htmlcollection";break;case NodeList:e="nodelist";break;case RegExp:e="regexp";break;case Error:e="error";break;case Date:e="date";break;default:e=1===t.nodeType&&"string"==typeof t.nodeName?"htmlelement":"object"}}return e}c("This function need a argument")}function c(t){throw new Error(t)}function f(t){console.warn("JET warning:\r\n  "+t)}function p(t){console.info("JET info:\r\n  "+t)}function d(t){return void 0===t}function T(t,e){return null==t?e:t}function J(){var t={__proto__:null};return t}function v(t){var e=t.tagName;return"INPUT"==e||"TEXTAREA"==e||"SELECT"==e||t._JT_hasAttr("contenteditable")&&"false"!=t._JT_attr("contenteditable")}function m(t){if("string"==i.type(t)){var e=i.ct("div")._JT_html(t);return 1==e._JT_child().length?e._JT_child(0):e._JT_child()._JT_toArray()}return t}function y(t,e,n){if(n._JT_has("-=")||n._JT_has("+=")){var i,s=g(n.substring(n.indexOf("=")+1));return n._JT_has("-=")&&(s[0]=-s[0]),i=n._JT_has("%")?g(t.style[e]):g(getComputedStyle(t)[e]),s[0]+i[0]+s[1]}return n}function g(t,e){if(""!=t&&null!=t||(t="0%"),null==e)if(t._JT_has("px"))e="px";else if(t._JT_has("%"))e="%";else{if(!t._JT_has("em"))return[parseFloat(t),"px"];e="em"}return[parseFloat(t.substring(0,t.indexOf(e))),e]}function x(t,e,n){document.addEventListener?t.addEventListener(e.substring(2),l(n),!1):document.attachEvent&&t.attachEvent(e,l(n))}function b(t,e){for(var n=[],i=e||0;i<t.length;i++)n.push(t[i]);return n}function j(t){var e=t instanceof Array,n=e?"[":"{";if(e)for(var i=0;i<t.length;i++)n+=w(t[i]);else for(var s in t)n+=w(t[s],s);return n.length>1&&(n=n.substring(0,n.length-1)),n+(e?"]":"}")}function w(t,e){var n=void 0===e?"":'"'.concat(e,'":'),i="";if(null===t)i="".concat(n,"null");else if("string"==typeof t)t=t.replace(/\n/g,"").replace(/"/g,'\\"'),i="".concat(n,'"').concat(t,'"');else if("number"==typeof t||"boolean"==typeof t)i="".concat(n).concat(t.toString());else if(void 0===t)i="".concat(n,"undefined");else if("function"==typeof t){var s=window.Jet.__base__._funcs,r=window.Jet.__base__._funcs_id++;s[r]=t,i="".concat(n,"window.Jet.__base__._funcs[").concat(r,"]")}else"object"==typeof t&&(i="Jlang"===t.type?"".concat(n,"new Jet.lang(").concat(j(t.data),")"):"".concat(n).concat(j(t)));return i+","}r.session=function(t,e){return r(t,e,!0)};var $=HTMLElement.prototype,A=HTMLCollection.prototype,O=NodeList.prototype,C=Array.prototype,E=String.prototype;$._JT_css=function(t,e){if(null==e){if("json"==i.type(t)){for(var n in t)t[n]._JT_has("!important")?this.style.setProperty(n,y(this,n,t[n].substring(0,t[n].indexOf("!important"))),"important"):this.style.setProperty(n,y(this,n,t[n]));return this}return getComputedStyle(this)[t]}return"number"==typeof e&&(e+="px"),e._JT_has("!important")?this.style.setProperty(t,y(this,t,e.substring(0,e.indexOf("!important"))),"important"):this.style.setProperty(t,y(this,t,e)),this},$._JT_attr=function(t,e){if(null==e){if("json"==i.type(t)){for(var n in t)""!==n.trim()&&this.setAttribute(n,t[n]);return this}return this.getAttribute(t)}return""!==t.trim()&&this.setAttribute(t,e),this},A._JT_attr=O._JT_attr=function(t,e){if(null==e&&"json"!=i.type(t)){var n=[];return this._JT_each((function(e){n._JT_append(e._JT_attr(t))})),n}return this._JT_each((function(n){n._JT_attr(t,e)})),this},$._JT_hasAttr=function(t){return this.hasAttribute(t)},$._JT_removeAttr=function(t){var e=t.split(" ");if(e.length>1){var n=this;e._JT_each((function(t){n.removeAttribute(t)}))}else this.removeAttribute(t);return this},A._JT_removeAttr=O._JT_removeAttr=function(t){return this._JT_each((function(e){e._JT_removeAttr(t)})),this},$._JT_findTag=function(t){return h(this.getElementsByTagName(t))},$._JT_findAttr=function(t){return h(this.querySelectorAll("["+t+"]"))},$._JT_findClass=function(t){return h(this.getElementsByClassName(t))},$._JT_select=function(t){return h(this.querySelectorAll(t))},$._JT_addClass=function(t){if(t._JT_has(" ")){var e=t.split(" "),n=this;e._JT_each((function(t){n._JT_addClass(t)}))}else""!==t.trim()&&(i.html5()?this.classList.add(t):this._JT_hasClass(t)||(this.className+=" "+t));return this},A._JT_addClass=O._JT_addClass=function(t){return this._JT_each((function(e){e._JT_addClass(t)})),this},$._JT_removeClass=function(t){if(null==t)this.className="";else if(""!==t.trim())if(t._JT_has(" ")){var e=t.split(" "),n=this;e._JT_each((function(t){n._JT_removeClass(t)}))}else if(i.html5())this.classList.remove(t);else if(this._JT_hasClass(t)){var s=new RegExp("(\\s|^)"+t+"(\\s|$)");this.className=this.className.replace(s," ").trim()}return this},A._JT_removeClass=O._JT_removeClass=function(t){return this._JT_each((function(e){e._JT_removeClass(t)})),this},$._JT_val=function(t){return null==t&&0==arguments.length?this.value:("INPUT"!=this.tagName&&"TEXTAREA"!=this.tagName&&"SELECT"!=this.tagName||(this.value=T(t,"")),this)},A._JT_val=O._JT_val=function(t){if(null==t){var e=[];return this._JT_each((function(t){e._JT_append(t._JT_val())})),e}return this._JT_each((function(e){e._JT_val(t)})),this},$._JT_txt=function(t){return null==t&&0==arguments.length?this.innerText:(this.innerText=T(t,""),this)},A._JT_txt=O._JT_txt=function(t){if(null==t&&0==arguments.length){var e=[];return this._JT_each((function(t){e._JT_append(t._JT_txt())})),e}return this._JT_each((function(e){e._JT_txt(t)})),this},$._JT_html=function(t){return null==t?this.innerHTML:(this.innerHTML=t,this)},A._JT_html=O._JT_html=function(t){if(null==t){var e=[];return this._JT_each((function(t){e._JT_append(t._JT_html())})),e}return this._JT_each((function(e){e._JT_html(t)})),this},$._JT_allHtml=function(t){return null==t?this.outerHTML:(this.outerHTML=t,this)},A._JT_allHtml=O._JT_allHtml=function(t){var e=[];return this._JT_each((function(n){e._JT_append(n._JT_allHtml(t))})),e},$._JT_hasClass=function(t){return""===t.trim()||(i.html5()?this.classList.contains(t):new RegExp("(\\s|^)"+t+"(\\s|$)").test(this.className))},$._JT_next=function(t){return null!=t?this._JT_parent()._JT_child(this._JT_index()+t):this._JT_parent()._JT_child(this._JT_index()+1)},$._JT_prev=function(t){return null!=t?this._JT_parent()._JT_child(this._JT_index()-t):this._JT_parent()._JT_child(this._JT_index()-1)},$._JT_child=function(t){return null==t?this.children:this.children[t]},$._JT_clone=function(){return this.cloneNode()._JT_html(this._JT_html())},$._JT_parent=function(t){if(null==t)return this.parentElement;for(var e=this,n=0;n<t;n++)e=e.parentElement;return e},$._JT_prepend=function(t){var e=i.type(t);if("array"==e||"htmlcollection"==e||"nodelist"==e){var n=this;t._JT_each((function(t){n.insertBefore(m(t),n.children[0])}))}else this.insertBefore(m(t),this.children[0]);return this},A._JT_prepend=O._JT_prepend=function(t){return this._JT_each((function(e){e._JT_prepend(t)})),this},$._JT_append=function(t,e){if(null==e){var n=i.type(t);if("array"==n||"htmlcollection"==n||"nodelist"==n)for(var s=0;s<t.length;s++)this._JT_append(t[s]);else"string"==n?this._JT_append(m(t)):this.appendChild(m(t))}else this.insertBefore(m(t),this.children[e]);return this},A._JT_append=O._JT_append=function(t,e){return this._JT_each((function(n){n._JT_append(t,e)})),this},$._JT_toArray=function(){return[this]},A._JT_toArray=O._JT_toArray=function(t){if(0!=t){for(var e=[],n=0;n<this.length;n++)e.push(this[n]);return e}return this},$._JT_index=function(){for(var t=this._JT_parent()._JT_child(),e=0;e<t.length;e++)if(t[e]==this)return e;return-1},$._JT_on=function(t,e,n){if("string"==i.type(t))return this._JT_event("on"+t,e,n);for(var s in t)t["on"+s]=t[s],delete t[s];return this._JT_event(t,e)},A._JT_on=O._JT_on=function(t,e,n){return this._JT_each((function(s){s._JT_on(i.clone(t),e,n)})),this},$._JT_clk=function(t,e){return this._JT_event("onclick",t,e)},A._JT_clk=O._JT_clk=function(t,e){return this._JT_each((function(n){n._JT_clk(t,e)})),this},$._JT_event=function(t,e,n){if("string"==i.type(t))!0===n?x(this,t,e):this[t]=l(e);else for(var s in t)null!=t[s]&&(!0===e?x(this,s,t[s]):this[s]=l(t[s]));return this},A._JT_event=O._JT_event=function(t,e,n){return this._JT_each((function(i){i._JT_event(t,e,n)})),this},$._JT_empty=function(){return this._JT_html("")},A._JT_empty=O._JT_empty=function(){return this._JT_each((function(t){t._JT_empty()})),this},$._JT_remove=function(){null!==this.parentNode&&this.parentNode.removeChild(this)},A._JT_remove=O._JT_remove=function(t){if(null==t)for(var e=0;e<this.length;)this[e]._JT_remove();else if("number"==i.type(t)){for(e=0;e<this.length;e++)if(e==t)return this[e]._JT_remove(),this}else for(e=0;e<this.length;e++)if(this[e]==t)return this[e]._JT_remove(),this},$._JT_each=function(t,e){return t(this,0,e),this},A._JT_each=O._JT_each=function(t,e){for(var n=this._JT_toArray(),i=0;i<n.length;i++)t(n[i],i,e);return this},C._JT_each=function(t,e){for(var n=0;n<this.length;n++)t(this[n],n,e);return this},C._JT_clone=function(){var t=new Array;return this.forEach((function(e){t.push(s(e))})),t},C._JT_empty=function(){return this.length=0,this},$._JT_last=function(){return this._JT_child()._JT_last()},$._JT_first=function(){return this._JT_child()._JT_first()},A._JT_last=O._JT_last=C._JT_last=function(){return this[this.length-1]},A._JT_first=O._JT_first=C._JT_first=function(){return this[0]},$._JT_exist=function(t){return null!=t&&l(t)(this),!0},A._JT_exist=O._JT_exist=C._JT_exist=function(t,e){return this.length>0?(1==this.length?l(t)(this[0]):l(t)(this),!0):(l(e)(),!1)},$._JT_content=function(t){if("INPUT"==this.tagName||"TEXTAREA"==this.tagName||"SELECT"==this.tagName){if(null==t&&0==arguments.length)return this.value;try{this.value=T(t,"")}catch(t){}}else{if(null==t&&0==arguments.length)return this.innerText;this.innerText=T(t,"")}return this},C._JT_remove=function(t,e){var n=this.indexOf(t);return 0==e?this[n]=this[this.length--]:this._JT_removeByIndex(n),this},C._JT_removeByIndex=function(t,e){return this.splice(t,e||1),this},C._JT_insert=function(t,e){return this.splice(e,0,t),this},C._JT_insertArray=function(t,e){var n=t.slice(0);return n.splice(0,0,e,0),C.splice.apply(this,n),this},C._JT_append=function(){return C.push.apply(this,arguments),this},C._JT_prepend=function(t){return 1==arguments.length?this._JT_insert(t,0):this._JT_insertArray(b(arguments),0)},E._JT_has=function(t){return"string"==i.type(t)?null==this.includes?-1!=this.indexOf(t):this.includes(t):null!=this.match(t)},E._JT_replaceAll=function(t,e){if("array"==i.type(t)){var n=this;return t.forEach((function(t){n=n._JT_replaceAll(t[0],t[1])})),n}if("array"==i.type(e)){if("string"==i.type(t)){var s=(n=this.split(t))[0];return n._JT_each((function(t,n){n>0&&(s+=e[n-1]+t)})),s}var r="",a=this,o=this.match(t);return null!=o?(o._JT_each((function(t,n){r+=a.substring(0,a.indexOf(t))+e[n],a=a.substring(a.indexOf(t)+t.length)})),r+=a):this}return"string"==i.type(t)?this.replace(new RegExp(t,"g"),e):this.replace(t,e)};var I=n(0),D=new Date,S="J",R="Jif",B="Jon",k="Jrun",L="Jattr",F="Jstyle",N="Jshow",M="Jroot",P="$each",H="$value",U="$index",V="jdom",q=new RegExp("({{)((.|\\n)*?)(}})","g"),X=new RegExp("(\\[)((.|\\n)*?)(\\])","g"),G=new RegExp("(})((.|\\n)*?)({)","g"),z=new RegExp("(\\/\\*)((.|\\n)*?)(\\*\\/)","g"),K=new RegExp("  +","g"),Q=":",W="::",Y="@",Z=0,tt=0,et="comp__id",nt="Jlang";function it(t,e,n){if(!en("lang"))return!1;var i=null!=t&&"object"==typeof t&&e in t;return 2==arguments.length?i:i&&t[e]===n}function st(t,e){if(void 0===t)return document.body;if("string"==typeof t){if("#"===t[0]){var n=i.id(t.substring(1));return 0===n.length?document.body:n}var s=t;(t=e?e._JT_findAttr(V+"="+s):i.attr(V+"="+s))._JT_exist()||(t=i.id(s))}else"htmlelement"!=i.type(t)&&(t=t.ele);return t}function rt(t){for(var e in t)at(t,e)}function at(t,e){var n=i.type(t[e]);if(it(t[e],"type",nt)){var s={},r=i.clone(t[e].data[Bt.lang.list[0]]);"object"==typeof r&&(ot(r,s,"",t[e].data),t[e]=s)}else"json"===n?rt(t[e]):"array"===n&&function(t){for(var e=0;e<t.length;e++)at(t,e)}(t[e])}function ot(t,e,n,i){if("object"==typeof t)for(var s in t)_t(t,e,n,i,s)}function _t(t,e,n,s,r){var a=i.type(t[r]);n+="string"==typeof r?"."+r:"["+r+"]","json"===a?(e[r]={},e=e[r],ot(t=t[r],e,n,s)):"array"===a?(e[r]=[],e=e[r],function(t,e,n,i){for(var s=0;s<t.length;s++)_t(t,e,n,i,s)}(t=t[r],e,n,s)):"string"===a||"number"===a||"boolean"===a?(e[r]=function(t,e){var n={};for(var i in t)n[i]=new Function("d","return d"+e)(t[i]);return window.JL(n)}(s,n),e=e[r]):c(a+"数据类型错误："+t[r])}function lt(t){var e=t.ele.__loadOpt;e&&(this._tools._props=function(t,e,n){var i=n.ele.attributes,s=e.jet,r=e.data,a={};a._ctx_jet=s,a._ctx_call=e.calls,a._ctx_source_data=e._data,a._ctx_data=e.data,a._props=[];for(var o={},_=0;_<i.length;_++){var l=ct(i[_]);if(null!=l)if(l.value in e._data||s[l.value]&&"function"==typeof s[l.value])l.value in e._data?l.prefix==W?o[l.name]=ut(r[l.value]):a._props.push({name:l.name,value:l.value}):(o[l.name]=s[l.value].bind(s),o[l.name].__props_child=!0,o[l.name].__isPropsFunc=!0);else{var h={data:r,ele:n.ele,jet:s,root:Bt.root};if(l.prefix==Y)"{"==l.value[0]&&"}"==l.value[l.value.length-1]?(o[l.name]=new Function("$","opt",l.value).bind(s,r,h),o[l.name].__isPropsFunc=!0):c("子组件使用js表达式作为函数参数时请使用{ }包裹");else if("{"==l.value[0]&&"}"==l.value[l.value.length-1]){l.value=l.value.substring(1,l.value.length-1);var u=l.value;l.value=l.value._JT_replaceAll([["{{",""],["}}",""]]);var f=new Function("$","opt","return "+l.value).bind(s,r,h),p=f();l.prefix==W?o[l.name]=ut(p):(o[l.name]=p,a._props.push({name:l.name,value:u,isExp:!0,func:f}))}else o[l.name]=l.value}}return t._tools._props_tools=a,o}(this,e,t),this._tools._data.$props=this._tools._props)}function ht(t){var e=t._tools._props_tools;e&&(e._props.forEach((function(n){var i,s,r,a;n.isExp?function(t,e,n){var i=n.value.match(q);if(null==i)return;i.forEach((function(i){""!==(i=i.substring(2,i.length-2))&&("$"==i?t._tools._calls.$props[n.name]=e._ctx_call:"$."==i.substring(0,2)&&("object"==typeof t.$props[n.name]?t._tools._calls.$props[n.name]=new Function("$","return "+i)(e._ctx_call):e._ctx_call[n.name]._func.push((function(e){e&&(t.$props[e]=n.func())}))))}))}(t,e,n):(i=t.$props,s=e._ctx_data,r=n.name,a=n.value,Object.defineProperty(i,r,{configurable:!0,get:function(){return s[a]},set:function(t){s[a]=t}}),t._tools._data.$props[n.name]=e._ctx_source_data[n.value],t._tools._calls.$props[n.name]=e._ctx_call[n.value])})),Object.defineProperty(t,"$props",{set:function(t){c("$prop 不能被赋值")}}))}function ut(t){return"object"==typeof t?JSON.parse(JSON.stringify(t)):t}function ct(t){var e=t.name,n=t.value,i="",s="";return e.substring(0,2)==W?(i=e.substring(2),s=W):e[0]==Q?(s=Q,i=e.substring(1)):e[0]==Y&&(s=Y,i=e.substring(1)),""==s?null:{prefix:s,name:ft(i),value:n}}function ft(t){var e=t.split("-");if(1==e.length)return t;t=e[0];for(var n=1;n<e.length;n++)t+=e[n][0].toUpperCase()+e[n].substring(1);return t}function pt(t,e,n,i){var s={jet:n};return 1==i?s.call=t:2==i&&(s.call=e,s.name=t),s}function dt(t){var e=t.name,n=t.call,s=t.jet,r=s._tools._calls,a=!1;if(void 0!==e)if(e._JT_has(".")){for(var o=e.split("."),_=1;_<o.length;_++)if(null==(r=Tt(r,o[_]))){a=!0,t.jet&&(s.$DOM?f("忽略了一个元素"):s.disable());break}a||r._func.push(n)}else"function"!=i.type(n)&&c("call参数必须为函数"),null==(r=Tt(r,e))?(a=!0,t.jet&&(s.$DOM?f("忽略了一个元素"):s.disable())):r._func.push(n);else"function"!=i.type(n)&&c("call参数必须为函数"),r._func.push(n)}function Tt(t,e){var n=e.match(X);if(null==n)return t[e]?t[e]:null;var i=t[e.substring(0,e.indexOf("["))];return n.forEach((function(t){var e=t.substring(1,t.length-1);if(!i[e])return null;i=i[e]})),i}function Jt(t){var e=i.type(t);if("undefined"!==e&&"string"===e){var n=t;(t=i.attr(V+"="+n))._JT_exist()||(t=i.id(n))}var s=this;(t?t._JT_findAttr(V):i.attr(V))._JT_each((function(t){!0!==t._hasDom&&(s.$dom[t._JT_attr(V)]=new Bt.DOM({ele:t,jet:s}),t._hasDom=!0)}))}function vt(t,e){en("router")&&(Bt.router.__await?Bt.router.__await():Bt.router.__hasInitJet=!0),"string"==typeof t.ele&&""!=t.ele&&(t.ele=i.attr(V+"="+t.ele)),Jt.call(this,t.ele);var n,s,r,a,o,_,l,h=this;t.beforemount&&t.beforemount.call(this),t.ele?(n=t.ele._JT_findAttr(S),s=t.ele._JT_findAttr(R),r=t.ele._JT_findAttr(N),a=t.ele._JT_findAttr(B),o=t.ele._JT_findAttr(k),_=t.ele._JT_findAttr(L),l=t.ele._JT_findAttr(F)):(n=i.attr(S),s=i.attr(R),r=i.attr(N),a=i.attr(B),o=i.attr(k),_=i.attr(L),l=i.attr(F));var u,c,f=[];n._JT_each((function(n){if(!n._hasBind&&!n._hasDisabled){var s=n._JT_attr(S);if(null==t.data||""==s){var r=wt(h,n,s,{_func:[]});n.__isRoot=!0,h._tools._jets.push(new Bt.Bind(r))}else if(s in t.data){var a,o=i.type(t.data[s]);r=wt(h,n,s,e[s]);switch(o){case"json":a=new Bt.Bind(r);break;case"array":a=new Bt.For(r);break;default:a=v(n)?new Bt.Input(r):new Bt.Text(r)}n.__isRoot=!0,h._tools._jets.push(a)}else n.__isRoot=!0,bt(n,f)}})),f._JT_each((function(t){t._hasJumped=void 0})),s._JT_each((function(t){t._hasIf||t._hasDisabled||h._tools._jetTools.push(new Bt.If(wt(h,t)))})),r._JT_each((function(t){t._hasShow||t._hasDisabled||h._tools._jetTools.push(new Bt.Show(wt(h,t),!0))})),a._JT_each((function(t){t._hasOn||t._hasDisabled||h._tools._jetTools.push(new Bt.On(wt(h,t)))})),o._JT_each((function(t){t._hasRun||t._hasDisabled||h._tools._jetTools.push(new Bt.Run(wt(h,t)))})),_._JT_each((function(t){t._hasAttr||t._hasDisabled||h._tools._jetTools.push(new Bt.Attr(wt(h,t)))})),l._JT_each((function(t){t._hasStyle||t._hasDisabled||h._tools._jetTools.push(new Bt.Style(wt(h,t),!0))})),(t.ele?t.ele._JT_findAttr(Xt):i.attr(Xt))._JT_each((function(t){if(!t._hasLoad&&!t._hasDisabled){t._hasLoad=!0;var e=wt(h,t);t.__loadOpt=e}})),Bt.$.id("__preload_j")._JT_remove(),u=this,(c=t.ondatachange)&&function t(e,n,i,s,r){if(d(n.$each))for(var a in"function"==typeof n&&!0!==r&&gt(e,i,"",n,s),d(n.$func)||gt(e,i,"",n.$func,s),n)"$func"!==a&&t(e,n[a],i+"."+a,s);else{var o=new Function("jet","return jet"+i)(e);o.__oldLength=o.length,gt(e,i,"",(function(){o.__oldLength!==o.length&&o.forEach((function(r,a){var o=s.slice(0,s.length);o.push(a),t(e,n.$each,i+"["+a+"]",o)}))}),s),d(n.$func)||gt(e,i,"",n.$func,s),o.forEach((function(r,a){var o=s.slice(0,s.length);o.push(a),t(e,n.$each,i+"["+a+"]",o)}))}}(u,c,"",[],!0),void 0!==window.JUI&&(yt(t.ele),window.JUI.useBind(this),window.JUI.init(t.ele)),en("router")&&(t.onroute&&Bt.router.onroute(t.onroute,this),t.onrouted&&Bt.router.onrouted(t.onrouted,this)),t.onmounted&&t.onmounted.call(this),t.beforeunmount&&(this._tools._beforeunmount=t.beforeunmount.bind(this)),t.onunmounted&&(this._tools._onunmounted=t.onunmounted.bind(this)),Bt.load.init.call(this,(function(t){void 0!==t&&t._JT_each((function(t){jt.call(h,t,!0)}))})),mt(t.ele)}function mt(t){en("valid")&&Bt.valid.init(t),en("lang")&&Bt.lang.init(t)}function yt(t){t._JT_findClass(window.JUI.DIALOG._name)._JT_each((function(t){t.__hasCheckDialog||(mt(t),t.__hasCheckDialog=!0)}))}function gt(t,e,n,i,s){var r=function(n){new Function("jet","v","jet"+e+"=v")(t,n)};Bt.Base.prototype.$regist.call(t,e+n,(function(a,o){i.call(t,{value:o,key:a,index:s,set:r,path:"this"+e+n})}))}function xt(t,e,n,i){var s=!0===i?n:function(t){for(var e=t._JT_parent();void 0===e.__jet;)e=e._JT_parent();return e.__jet}(t),r=void 0!==s.$DOM;r||s.type===S||c("只可在Jet元素或Bind元素作用于域下动态插入DOM元素初始化，当前插入作用域为"+s.type);var a=r?s._tools._data:s._data[s.name],o=void 0===e?wt(s,t):wt(s,t,e,s._tools._calls[e]);return{isRoot:r,jet:s,data:a,opt:r?o:pe(s,t,e,s._tools._calls[e])}}function bt(t,e){[S,R,N,B,k,L,F].forEach((function(n){t._JT_findAttr(n)._JT_each((function(t){t._hasJumped=!0,e.push(t)}))}))}function jt(t,e){"string"==typeof(t=t||this._tools._ele)&&(t=st(t)),Jt.call(this,t);var n=this,s=t._JT_findAttr(S),r=t._JT_findAttr(R),a=t._JT_findAttr(N),o=t._JT_findAttr(B),_=t._JT_findAttr(k),l=t._JT_findAttr(L),h=t._JT_findAttr(F),u=[];s._JT_each((function(t){if(!t._hasBind&&!t._hasDisabled){var s=t._JT_attr(S),r=xt(t,s,n,e);if(null==r.data||""==s){var a=wt(n,t,s,{_func:[]});t.__isRoot=!0,r._tools._jets.push(new Bt.Bind(a))}else if(s in r.data){var o;switch(i.type(r.data[s])){case"json":o=new Bt.Bind(r.opt);break;case"array":o=new Bt.For(r.opt);break;default:o=v(t)?new Bt.Input(r.opt):new Bt.Text(r.opt)}r.isRoot&&(t.__isRoot=!0),r.jet._tools._jets.push(o)}else t.__isRoot=!0,bt(t,u)}})),u._JT_each((function(t){t._hasJumped=void 0})),r._JT_each((function(t){if(!t._hasIf&&!t._hasDisabled){var i=xt(t,void 0,n,e);i.jet._tools._jetTools.push(new Bt.If(i.opt))}})),a._JT_each((function(t){if(!t._hasShow&&!t._hasDisabled){var i=xt(t,void 0,n,e);i.jet._tools._jetTools.push(new Bt.Show(i.opt,!0))}})),o._JT_each((function(t){if(!t._hasOn&&!t._hasDisabled){var i=xt(t,void 0,n,e);i.jet._tools._jetTools.push(new Bt.On(i.opt))}})),_._JT_each((function(t){if(!t._hasRun&&!t._hasDisabled){var i=xt(t,void 0,n,e);i.jet._tools._jetTools.push(new Bt.Run(i.opt))}})),l._JT_each((function(t){if(!t._hasAttr&&!t._hasDisabled){var i=xt(t,void 0,n,e);i.jet._tools._jetTools.push(new Bt.Attr(i.opt))}})),h._JT_each((function(t){if(!t._hasStyle&&!t._hasDisabled){var i=xt(t,void 0,n,e);i.jet._tools._jetTools.push(new Bt.Style(i.opt,!0))}})),t._JT_findAttr(Xt)._JT_each((function(t){if(!t._hasLoad&&!t._hasDisabled){t._hasLoad=!0;var i=xt(t,void 0,n,e);t.__loadOpt=i}})),void 0!==window.JUI&&(yt(t),window.JUI.useBind(this),window.JUI.init(t)),mt(t),Bt.load.init.call(this,t)}function wt(t,e,n,i){return{jet:t,par:t,ele:e,data:t,_data:t._tools._data,name:n,calls:i||t._tools._calls}}function $t(t,e,n,i){for(var s in n._func||(n._func=[]),e)Ct(t,s,e,n,i)}function At(t,e,n,i){Ot(t,e,n,0,i)}function Ot(t,e,n,i,s){n._func||(n._func=[]);for(var r=i||0;r<e.length;r++)Ct(t,r,e,n,s)}function Ct(t,e,n,s,r){var a=i.type(n[e]);if("function"!=a||n[e].__isPropsFunc||d(r)||(n[e]=n[e].call(r,r._tools._data,n),a=i.type(n[e])),"json"==a){var o={};s[e]||(s[e]={}),Et(t,n,e,o,s[e]),$t(o,n[e],s[e],r)}else if("array"==a){o=[];s[e]||(s[e]=[]),o._calls=s[e],o._data=n[e],Et(t,n,e,o,s[e],!0),At(o,n[e],s[e],r)}else s[e]&&s[e]._func||(s[e]={_func:[]}),function(t,e,n,i){Object.defineProperty(t,n,{configurable:!0,enumerable:!0,get:function(){var t=e[n];return it(t,"type",nt)?t.data[Bt.lang.type]:t},set:function(t){it(e[n],"type",nt)?e[n].data[Bt.lang.type]=t:e[n]=t,i._func._JT_each((function(e){e(n,t)}))}})}(t,n,e,s[e])}function Et(t,e,n,s,r,a){Object.defineProperty(t,n,{configurable:!0,enumerable:!0,get:function(){return s},set:function(o){a?t[n].$replace(o):(e[n]=o,function(t,e,n){"json"==function(t,e){var n=i.type(t),s=i.type(e);n!==s&&c("不允许前后设置的值类型不一致");return n}(t,e)?It(t,e,n):Dt(t,e)}(s,o,r)),r._func._JT_each((function(t){t(n,o)}))}})}function It(t,e,n){for(var i in e)St(t,e,i,n)}function Dt(t,e){t.$replace(e)}function St(t,e,n,s){if(void 0!==t[n]){var r=i.type(t[n]);"json"==r?It(t[n],e[n],s[n]):"array"==r?Dt(t[n],e[n],s[n]):t[n]=e[n]}else Ct(t,n,e,s)}function Rt(t,e){t.static&&(!function t(e,n,i,s,r){var a=u(e[n]);if("function"===a)e[n]=e[n].call(i,s,r,e);else if("json"===a)for(var o in e[n])t(e[n],o,i,s,r);else if("array"===a)for(var _=0;_<e[n].length;_++)t(e[n],_,i,s,r)}(t,"static",e,t.data,t.static),e.$data=t.static)}i.tag("head")._JT_append(i.ct("style")._JT_attr({type:"text/css","style-type":"JetTool"})._JT_txt(".jet-hide{display:none!important}.jet-unpass{border-color:#f20!important;border-style:solid!important;background-color:rgba(255,0,0,.1)!important;color:red!important}")),document.head._JT_append(i.ct("style")._JT_attr({type:"text/css",id:"__preload_j"})._JT_html("[J]{visibility:hidden}"));var Bt=function t(e,n,s){if(en("render-time")&&t.RenderTime.start(),"object"==typeof s?(s.ele||(s.ele=i.attr(et+'="'+n+'"'),s.ele._JT_removeAttr(et)),s.par||(s.par=e)):s=e,void 0===s&&(s={}),s.data||(s.data={}),Rt(s,this),function(t){var e=t.data;if(it(e,"type",nt)){var n={};ot(i.clone(e.data[Bt.lang.list[0]]),n,"",e.data),t.data=n}else rt(e)}(s),s.ele=s.ele?st(s.ele):document.body,d(s.ele))p("忽略了一个组件，可能是由于操作过快，组件对应的dom已经被移除");else{s.ele.__jet=this;var r="";s.style&&(r+="<style".concat(!1===s.less?' jless="false':"").concat(!0!==s.scoped?' scoped="false"':"",">").concat(s.style,"</style>")),s.template&&(r+=s.template),r&&s.ele._JT_html(r),t._unnamedJets._root||t.___root||(t.___root=!0,t._unnamedJets._root=this,t.root=this),s.ele._JT_hasAttr("name")&&(s.name=s.ele._JT_attr("name")),s.name?(t.comp[s.name]&&null==t.comp[s.name].$DOM&&c("Jet name 属性等于"+s.name+"已存在，请重新命名"),t.comp[s.name]=this):(s.name="_"+Z++,t._unnamedJets[s.name]=this),s.style&&se(s.ele,s.name),"$routerComp"===n&&(t._unnamedJets.$routerComp=this),s.par&&(this.$par=t.comp[s.par]||t._unnamedJets[s.par],this.$par&&(this.$par.$child||(this.$par.$child=J()),"$routerComp"==n?this.$par.$child.$routerComp=this:this.$par.$child[s.name]=this)),this._tools={_jets:[],_jetTools:[],_calls:{},_data:s.data||{},_ele:s.ele,name:s.name,_components:s.components?s.components:{}},this.$dom={};if(lt.call(this,s),$t(this,s.data,this._tools._calls,this),ht(this),s.func)for(var a in s.func)this[a]?c("data 不能与 func 有重名属性"):this[a]=s.func[a];var o=this;if(s.beforeinit)s.beforeinit.call(this);else if(s.beforeinitawait)return void s.beforeinitawait.call(this,(function(){vt.call(o,s,o._tools._calls),en("render-time")&&t.RenderTime.end(o)}));vt.call(o,s,o._tools._calls),en("render-time")&&t.RenderTime.end(this,n)}};Bt.create=function(t,e){void 0===e&&(e=t,t=i.ct("div"),document.body._JT_prepend(t)),"string"==typeof t&&(t=document.querySelector(t)),!t instanceof HTMLElement?console.warn("Jet.app: 请传入正确的 ele"):("object"==typeof e&&(e=Qt(e)),Yt(e,t,null,"root",0,[0]))},Bt.prototype=J(),Bt.prototype.$getData=function(){return this},Bt.prototype.$makeChange=function(t){new Function("call","return call."+t+"._func")(this._tools._calls).forEach((function(t){t()}))},Bt.prototype.$DOM=function(t){return new Bt.DOM({ele:t,jet:this})},Bt.prototype.$cookie=a,Bt.prototype.$storage=r,Bt.prototype.$ajax=function(t){return!1!==t.base&&void 0!==Bt.prototype.$ajax.base&&(t.url=Bt.prototype.$ajax.base+t.url),Bt.prototype.$ajax.xhr=o(t),Bt.prototype.$ajax.xhr},Bt.prototype.$ajax.load=function(t,e,n){return"@"===t[0]?t=t.substring(1):void 0!==Bt.prototype.$ajax.base&&(t=Bt.prototype.$ajax.base+t),Bt.prototype.$ajax.xhr=_(t,e,n),Bt.prototype.$ajax.xhr},Bt.prototype.$ajax.get=function(t,e,n,i){return Bt.prototype.$ajax({data:e,url:t,success:n,error:i})},Bt.prototype.$nextTick=function(t){setTimeout(t)},Bt.prototype.$ajax.post=function(t,e,n,i){return Bt.prototype.$ajax({type:"post",data:e,url:t,success:n,error:i})},Bt.prototype.$ajax.abort=function(){Bt.prototype.$ajax.xhr&&(Bt.prototype.$ajax.xhr.abort(),Bt.prototype.$ajax.xhr=null)},Bt.prototype.$jui=function(t){return st(t,this._tools._ele).$jui},Bt.prototype.$init=function(t){jt.call(this,t)},Bt.prototype.$regist=function(t,e){dt(pt(t,e,this,arguments.length))},Bt.prototype.$=Bt.$=i,Bt._unnamedJets={},Bt.comp={},Bt.DOM=function(t){this.jet=t.jet,this.ele=t.ele,this.name=t.ele._JT_attr(V);var e=this;Object.defineProperties(this,{html:{get:function(){return e.ele.innerHTML},set:function(t){e.ele.innerHTML=t}},text:{get:function(){return e.ele.innerText},set:function(t){e.ele.innerText=t}},value:{get:function(){return e.ele.value},set:function(t){e.ele.value=t}},class:{get:function(){return e.ele._JT_attr("class")},set:function(t){"+"!=t[0]&&"-"!=t[0]?e.ele._JT_attr("class",t):t.split(";").forEach((function(t){"+"!=t[0]&&"-"!=t[0]&&c("添加或删除类 第一个字符必须是+或者-"),"+"==t[0]?e.ele._JT_addClass(t.substring(1)):e.ele._JT_removeClass(t.substring(1))}))}},outerHtml:{get:function(){return e.ele.outerHTML},set:function(){console.error("outerHtml 不允许赋值")}},attr:{get:function(){for(var t={},n=0;n<e.ele.attributes.length;n++)t[e.ele.attributes[n].name]=e.ele.attributes[n].textContent;return t},set:function(t){t.split(";").forEach((function(t){if("-"==t[0])e.ele._JT_removeAttr(t.substring(1));else{var n=t.split("=");0==n.length&&(n[1]=""),"+"==n[0]?e.ele._JT_attr(n[0].substring(1),n[1]):e.ele._JT_attr(n[0],n[1])}}))}},css:{get:function(){return e.ele.style},set:function(t){t.split(";").forEach((function(t){var n=t.split("=");e.ele._JT_css(n[0],n[1])}))}}})},Bt.Base=function(t,e){switch(this.jet=t.jet,this.par=t.par,this.ele=t.ele,this._data=t._data,this.data=t.data,this.type=e,this.name=t.name,this.index=t.index,"Jfor"!=e&&"Jinput"!=e&&"Jtext"!=e||(e=S),this._tools={_jets:[],_jetTools:[],_calls:t.calls},this._attrVal=this.ele._JT_attr(e),this.ele._JT_removeAttr(e),this.type){case R:this.ele._hasIf=!0;break;case B:this.ele._hasOn=!0;break;case k:this.ele._hasRun=!0;break;case L:this.ele._hasAttr=!0;break;case F:this.ele._hasStyle=!0;break;case N:this.ele._hasShow=!0;break;default:this.ele._hasBind=!0}this.ele._JT_hasAttr(M)&&(this.par=this.jet,this.data=this.jet,this.name?this._tools._calls=this.jet._tools._calls[this.name]:this._tools._calls=this.jet._tools._calls),this.type!=S&&"Jfor"!=this.type&&"Jtext"!=this.type&&"Jinput"!=this.type||(this.ele.__jet=this)},Bt.Base.prototype=J(),Bt.Base.prototype.$parData=function(t){var e=this.par;(null==t||t<=0)&&(t=1);for(var n=0;n<t-1;n++){if(e.$DOM)return e;e=e.par}return e.data},Bt.Base.prototype.$makeChange=function(t){(null==t?this._tools._calls._func:new Function("$","return "+t+"._func")(this._tools._calls)).forEach((function(t){t()}))},Bt.Base.prototype.disable=function(){switch(f("忽略了一个"+this.type+"元素:"),this.disable=!0,this.ele._JT_attr(this.type,this._attrVal),this.type){case R:this.ele._hasIf=!1;break;case B:this.ele._hasOn=!1;break;case k:this.ele._hasRun=!1;break;case L:this.ele._hasAttr=!1;break;case F:this.ele._hasStyle=!1;break;case N:this.ele._hasShow=!1;break;default:this.ele._hasBind=!1}this.type==S?this.par._tools._jets._JT_remove(this):this.par._tools._jetTools._JT_remove(this),this.ele.__jet=void 0},Bt.Base.prototype.$regist=function(t,e){dt(pt(t,e,this,arguments.length))},Bt.Base.prototype.setDataIndex=function(t){this.name=t};var kt=function(){};function Lt(t,e){if("object"==typeof e)for(var n=0;n<t.length;n++)if(i=e,s=t[n],JSON.stringify(i)===JSON.stringify(s))return n;var i,s;return t.indexOf(e)}kt.prototype=Bt.Base.prototype;var Ft=C.push,Nt=C.pop,Mt=C.splice,Pt=C.shift,Ht=C.unshift,Ut=C.reverse,Vt=C.sort;function qt(t){var e=this._tools._jetTools;this.ele._JT_hasAttr(B)&&(this.ele._hasOn||e.push(new Bt.On(t))),this.ele._JT_hasAttr(k)&&(this.ele._hasRun||e.push(new Bt.Run(t)))}C.push=function(){if(void 0===this._data)return Ft.apply(this,arguments);1===arguments.length?this.$push(arguments[0]):arguments.length>1&&this.$pushArray(b(arguments))},C.pop=function(){if(void 0===this._data)return Nt.apply(this);var t=this._JT_last();return this.$removeByIndex(this.length-1),t},C.splice=function(){if(void 0===this._data)return Mt.apply(this,arguments);1===arguments.length?this.$removeByIndex(arguments[0],this.length-1):2===arguments.length?this.$removeByIndex(arguments[0],arguments[1]):arguments.length>2&&(this.$removeByIndex(arguments[0],arguments[1]),this.$insertArray(b(arguments,2),arguments[0]))},C.shift=function(){if(void 0===this._data)return Pt.apply(this);var t=this[0];return this.$removeByIndex(0),t},C.unshift=function(){if(void 0===this._data)return Ht.apply(this,arguments);1===arguments.length?this.$prep(arguments[0]):arguments.length>1&&this.$prepArray(b(arguments))},C.reverse=function(){if(void 0===this._data)return Ut.apply(this);var t=Ut.apply(this._data)._JT_clone();return this.$replace(t),t},C.sort=function(t){if(void 0===this._data)return Vt.call(this,t);var e=Vt.call(this._data,t)._JT_clone();return this.$replace(e),e},C.$push=function(t){var e,n,i,s=this._jet,r=void 0===s;r?(e=this,n=this._data,i=this._calls):(e=s.data[s.name],n=s._data[s.name],i=s._tools._calls),n.push(t),Ct(e,e.length,n,i),r||s.refresh.push.call(s)},C.$pushArray=function(t){this.$insertArray(t,this.length)},C.$prep=function(t){var e,n,i,s=this._jet,r=void 0===s;r?(e=this,n=this._data,i=this._calls):(e=s.data[s.name],n=s._data[s.name],i=s._tools._calls),n._JT_prepend(t),i._JT_prepend({}),At(e,n,i),r||s.refresh.prep.call(s)},C.$prepArray=function(t){this.$insertArray(t,0)},C.$insert=function(t,e){var n,i,s,r=this._jet,a=void 0===r;a?(n=this,i=this._data,s=this._calls):(n=r.data[r.name],i=r._data[r.name],s=r._tools._calls),i._JT_insert(t,e),s._JT_insert({},e),Ot(n,i,s,e),a||r.refresh.insert.call(r,e)},C.$insertArray=function(t,e){var n,i,s,r=this._jet,a=void 0===r;a?(n=this,i=this._data,s=this._calls):(n=r.data[r.name],i=r._data[r.name],s=r._tools._calls),i._JT_insertArray(t,e);for(var o=[],_=0;_<t.length;_++)o.push({});s._JT_insertArray(o,e),Ot(n,i,s,e),a||r.refresh.insertArray.call(r,t,e)},C.$remove=function(){for(var t=0;t<arguments.length;t++)this.$removeByIndex(Lt(this,arguments[t]))},C.$removeByIndex=function(t,e){if(-1!=t){null==e&&(e=1);var n,i,s,r=this._jet,a=void 0===r;a?(n=this,i=this._data,s=this._calls):(n=r.data[r.name],i=r._data[r.name],s=r._tools._calls),i.length<t+e&&(i.length<t+1?c("$remove 方法索引超过数组长度"):f("$remove 方法删除的个数超过数组长度，只删除"+(e=i.length-t)+"个元素")),i.splice(t,e),s.splice(t,e),Ot(n,i,s,t),n.length-=e,a||r.refresh.remove.call(r,t,e)}},C.$clear=function(){this.$removeByIndex(0,this.length)},C.$replace=function(t){this.$clear(),this.$pushArray(t)};var Xt="JComp",Gt="Jpath",zt="Jpar";function Kt(t,e,n,s,r){var a=e._JT_attr(Xt),o=te(a,"html",e);if(e._JT_removeAttr(Xt+" "+Gt),Bt.load.__loadStore[o])Yt(Bt.load.__loadStore[o],e,t,a,n,s,r);else{var _=o.replace(".html","");if(t._tools._components[_]){var l=Qt(t._tools._components[_]);Bt.load.__loadStore[o]=l,Yt(l,e,t,a,n,s,r)}else i.load(o,(function(i){Bt.load.__loadStore[o]=i,Yt(i,e,t,a,n,s,r)}))}}function Qt(t){return"string"==typeof t?t:"<script>new Jet(".concat(j(t),")<\/script>")}function Wt(t,e){return void 0!==t[e]&&"function"==typeof t[e]}function Yt(t,e,n,s,r,a,o){var _=a.length;e._JT_html(t);var l=e._JT_attr(zt);if(null===l&&null!==n&&n.$DOM&&void 0!==n._tools.name&&(l=n._tools.name),function(t,e,n){var s=e;null!==n&&(e=e+"-"+n);var r,a=i.attr('load-script="'+e+'"'),o=function(){null==(r=t._JT_attr("id"))&&(r=tt++),t._JT_attr(et,r)},_=function(t){if(null!==n){var e='"'+n+'","'+r+'",';return t.replace("new Jet(","new Jet("+e).replace("JET(","JET("+e)}return t};if(a._JT_exist()){o();var l="";a.__sourceSrc.forEach((function(t){l+=_(t)}));var h=i.ct("script")._JT_attr({"load-script":e,type:"text/javascript"})._JT_html(l);h.__sourceSrc=a.__sourceSrc,a._JT_remove(),i.body()._JT_append(h)}else{a=i.ct("script")._JT_attr({"load-script":e,type:"text/javascript"});var u=["//# sourceURL="+s+".js\r\n"],c=t._JT_findTag("script")._JT_toArray(!1);c.length>0&&o();for(var f=-1,p=c.length-1;p>=0;p--)if(c[p]._JT_hasAttr("src")){f=p;break}var d=[];c._JT_each((function(t,e){if(t._JT_hasAttr("src"))i.load(te(t._JT_attr("src"),"js",t),(function(n){n=ce(n,t),u[e+1]=_(n),d[e+1]=n,e==f&&(a._JT_html(u.join(";")),i.body()._JT_append(a))}));else{var n=ce(t._JT_html(),t);u[e+1]=_(n),d[e+1]=n}t._JT_remove()})),-1==f&&(a._JT_html(u.join(";")),a.__sourceSrc=d,i.body()._JT_append(a))}}(e,s,l),Zt(e),mt(e),en("router")&&Bt.router.init(e),e._JT_hasAttr("jonload")){var h=e._JT_attr("jonload"),u=e.__jet,c={ele:e,par:n,jet:e.__jet};null!==l&&void 0!==Bt.comp[l]&&Wt(Bt.comp[l],h)?Bt.comp[l][h].call(Bt.comp[l],c):n.$DOM&&Wt(n,h)?n[h].call(n,c):u&&Wt(u,h)?u[h].call(u,c):"root"==n&&Wt(Bt.root,h)?Bt.root[h].call(u,c):null!==l?new Function(h).call(Bt._unnamedJets[l],c):new Function(h).call(n,c)}r==_-1&&null!=o&&o(a),void 0!==window.JUI&&window.JUI.init(e)}function Zt(t){var e=["image","media","media"];["img","audio","video"].forEach((function(n,i){t._JT_findTag(n)._JT_each((function(t){var n=t._JT_attr("src");null!=n&&"/"!=n[0]&&t._JT_attr("src",te(n,e[i],t))}))}))}function te(t,e,n){return n&&"false"===n._JT_attr(Gt)?en("router")?Bt.router.conf.base+ne(t):ee(t,e):en("res")?Bt.res.getSrc(t,e):(en("router"),ee(t,e))}function ee(t,e){return"js"!=e&&"css"!=e&&"html"!=e||t.substring(t.lastIndexOf(".")+1)===e?t:t+"."+e}function ne(t){return"/"!=(t=t.trim())[0]&&(t="/"+t),t}function ie(t){return Bt.__css_conf?Bt.__css_conf._replaceCssVar(t):function(t){return t.replace(/[\r\n]/g,"")}(t)}function se(t,e,n){var s=function(t,e,n){var s=document.getElementById("__new_jetee_style"),r=n?"RouterOut":"s"+ ++oe;e[re]=r,e._JT_attr(ae,r),s||(s=i.ct("style")._JT_attr({type:"text/css",id:"__new_jetee_style"}),document.head.appendChild(s));return s}(0,t,n);if(null!==s){var r=[],a=t._JT_findTag("style")._JT_toArray(!1),o=a.length,_=0;a._JT_each((function(e,n){var a=!e._JT_hasAttr("scoped")||"false"!==e._JT_attr("scoped");if(e._JT_hasAttr("src"))i.load(te(e._JT_attr("src"),"css",e),(function(i){r[n]={css:ue(ie(i)),scoped:a},_++,_e(t,_,o,s,r),e._JT_remove()}));else{var l=e._JT_html();r[n]={css:ue(ie(l)),scoped:a},_++,_e(t,_,o,s,r),e._JT_remove()}})),Bt.__css_conf&&n&&Bt.__css_conf._loadCommonCss()}}Bt.load={__loadStore:{},init:function(t,e){var n,s=this;null==t||"function"==typeof t?(e=t,n=s.$DOM?s._tools._ele._JT_findAttr(Xt)._JT_toArray(!1):i.attr(Xt)._JT_toArray(!1)):n=t._JT_findAttr(Xt)._JT_toArray(!1),0!=n.length?n._JT_each((function(t,i){Kt(s,t,i,n,e)})):e&&e()}};var re="_scoped_style_id",ae="scoped-ele-id",oe=0;function _e(t,e,n,i,s){if(e==n){var r=t[re],a="";s.length>0&&(s.forEach((function(t){t.scoped?a+=le(t.css,r):a+=he(t.css)})),i._JT_html(a+i._JT_html()))}}function le(t,e){if(""===t.trim())return t;t=function(t){return t.replace(z,"")}(t);var n="["+ae+"="+e+"] ";t=t.trim();var i=[],s=(t="}"+t).match(G),r=function(t,e){return e.forEach((function(e){t=t.replace(e,"__split__")})),t.split("__split__")}(t,s);s.forEach((function(t){if(-1!==t.indexOf("@")||-1!==t.indexOf("%"))-1!==t.indexOf("@media")?i.push(t+n):i.push(t);else if("to"!==t.substring(1,t.length-1)._JT_replaceAll(";","").trim()){var e=t.indexOf("}"),s=t.lastIndexOf("}");e!==s?i.push(t.substring(0,s)+"}"+n+t.substring(s+1)):i.push(t.replace("}","}"+n))}else i.push(t)}));for(var a=r[0],o=0;o<i.length;o++)a+=i[o]+r[o+1];return he(a.substring(1))}function he(t){return t.replace(K," ")}function ue(t){return Bt.config.less&&en("less")?Bt.less.toCss(t):t}function ce(t,e){return!Bt.config.babel||!en("babel")||e&&"false"===e._JT_attr("jbabel")?t:Bt.babel.toEs5(t)}function fe(t){var e=this,n=this.ele._JT_findAttr(S),s=this.ele._JT_findAttr(R),r=this.ele._JT_findAttr(N),a=this.ele._JT_findAttr(B),o=this.ele._JT_findAttr(k),_=this.ele._JT_findAttr(L),l=this.ele._JT_findAttr(F),h=[];n._JT_each((function(t){if(!t._hasBind&&!t._hasDisabled&&!t._hasJumped){var n,s=t._JT_attr(S);if(s==H)(a=pe(e,t,e.name,e.par._tools._calls[e.name])).data=e.data,a._data=e._data,n=v(t)?new Bt.Input(a):new Bt.Text(a);else if(s._JT_has(U)){if((a=pe(e,t,s,e.par._tools._calls)).index=e.name,v(t))c("input:不允许将index绑定到输入项中");else{if(s._JT_has(U+"(")){var r=s.substring(s.indexOf("(")+1,s.indexOf(")"));""==r&&(r=1),a._parIndex=parseInt(r)}n=new Bt.Text(a)}}else{var a;if("object"==typeof(a=t._JT_hasAttr(M)?de(e.jet,t,s):pe(e,t,s,e._tools._calls[s]))._data&&s in a._data)switch(i.type(a._data[s])){case"json":n=new Bt.Bind(a);break;case"array":n=new Bt.For(a);break;default:n=v(t)?new Bt.Input(a):new Bt.Text(a)}else bt(t,h)}e._tools._jets.push(n)}})),h._JT_each((function(t){t._hasJumped=void 0})),s._JT_each((function(t){t._hasIf||t._hasDisabled||(t._JT_hasAttr(M)?e._tools._jetTools.push(new Bt.If(de(e.jet,t))):e._tools._jetTools.push(new Bt.If(pe(e,t))))})),r._JT_each((function(t){t._hasShow||t._hasDisabled||(t._JT_hasAttr(M)?e._tools._jetTools.push(new Bt.Show(de(e.jet,t),!0)):e._tools._jetTools.push(new Bt.Show(pe(e,t),!0)))})),a._JT_each((function(t){t._hasOn||t._hasDisabled||(t._JT_hasAttr(M)?e._tools._jetTools.push(new Bt.On(de(e.jet,t))):e._tools._jetTools.push(new Bt.On(pe(e,t))))})),o._JT_each((function(t){t._hasRun||t._hasDisabled||(t._JT_hasAttr(M)?e._tools._jetTools.push(new Bt.Run(de(e.jet,t))):e._tools._jetTools.push(new Bt.Run(pe(e,t))))})),_._JT_each((function(t){t._hasAttr||t._hasDisabled||(t._JT_hasAttr(M)?e._tools._jetTools.push(new Bt.Attr(de(e.jet,t))):e._tools._jetTools.push(new Bt.Attr(pe(e,t))))})),l._JT_each((function(t){t._hasStyle||t._hasDisabled||(t._JT_hasAttr(M)?e._tools._jetTools.push(new Bt.Style(de(e.jet,t),!0)):e._tools._jetTools.push(new Bt.Style(pe(e,t),!0)))})),this.ele._JT_findAttr(Xt)._JT_each((function(t){var n;t._hasLoad||t._hasDisabled||(t._hasLoad=!0,n=t._JT_hasAttr(M)?de(e.jet,t):pe(e,t),t.__loadOpt=n)})),qt.call(this,t),this.$regist((function(){e.refresh()}))}function pe(t,e,n,i){return{jet:t.jet,par:t,ele:e,data:t.data[t.name],_data:null==t._data?null:t._data[t.name],name:n,calls:i||t._tools._calls}}function de(t,e,n){return{jet:t,par:t,ele:e,data:t,_data:t._tools._data,name:n,calls:t._tools._calls}}function Te(t){void 0!==this.__addSelectOption&&this.__addSelectOption(t)}function Je(){void 0!==window.JUI&&(yt(this.ele),window.JUI.useBind(this.jet),window.JUI.init(this.ele,!0))}function ve(){if(null!=this.ele._JT_child(0)&&this.ele._JT_child(0)._JT_hasAttr(S)&&this.ele._JT_child(0)._JT_attr(S)._JT_has("=")){this._switch=!0,this._html={},this._type=null;var t=this,e={};this.ele._JT_child()._JT_each((function(n){var s=n._JT_attr(S);null==t._type&&(t._type=s.substring(s.indexOf(".")+1,s.indexOf("="))),s._JT_has("=")||c("swicth:html格式有误"),s=s.substring(s.indexOf("=")+1),t._html[s]=n._JT_allHtml(),e[s]=i.ct("div")._JT_append(n)}));for(var n=0;n<this.data[this.name].length;n++){var s=this.data[this.name][n][this._type];s in this._html?s in e?(this.ele._JT_append(e[s]._JT_child(0)),delete e[s]):this.ele._JT_append(this._html[s]):c("swicth:指定属性的值不在swicth枚举内")}}else if(this.ele._JT_findAttr(S+'="'+P+'"')._JT_exist())if(1!=this.ele._JT_child().length||this.ele._JT_child(0)._JT_attr(S)!=P)c("循环元素绑定格式错误！");else{r=this.ele._JT_html();this._html=r;for(n=0;n<this.data[this.name].length-1;n++)this.ele._JT_append(r)}else{var r=this.ele._JT_html(),a="div";this.ele._JT_hasAttr("jfor-inline")&&(a="span",this.ele._JT_removeAttr("jfor-inline")),this._html="<"+a+" "+S+'="'+P+'">'+r+"</"+a+">";for(var n=0;n<this.data[this.name].length;n++){var o=i.ct(a)._JT_attr(S,P);0==n?this.ele.childNodes._JT_each((function(t){o._JT_append(t)})):o._JT_html(r),this.ele._JT_append(o)}}if(0==this.data[this.name].length){t=this;[S,R,N,L,F,k,B,Xt].forEach((function(e){t.ele._JT_findAttr(e)._JT_each((function(t){t._hasDisabled=!0}))})),this.ele._JT_empty()}}function me(t){var e=this;this.data[this.name]._jet=this,ve.call(this),this.ele._JT_child()._JT_each((function(t,n){if(!t._hasBind){var s,r=ye(e,t,n);s="array"==i.type(r.data[0])?new Bt.For(r):new Bt.Bind(r),e._tools._jets.push(s),ge(e,t,n)}})),qt.call(this,t),this.$regist((function(){e.refresh()}))}function ye(t,e,n){return{jet:t.jet,par:t,ele:e,data:t.data[t.name],_data:t._data[t.name],name:n,calls:t._tools._calls[n]}}function ge(t,e,n){var i=e._JT_hasAttr(M)?function(t,e,n){return{jet:t,par:t,ele:e,data:t,_data:t._tools._data,name:n,calls:t._tools._calls}}(t.jet,e,n):ye(t,e,n),s=t._tools._jets[n]._tools._jetTools;e._JT_hasAttr(R)&&!e._hasIf&&s.push(new Bt.If(i)),e._JT_hasAttr(N)&&!e._hasShow&&s.push(new Bt.Show(i,!0)),e._JT_hasAttr(B)&&!e._hasOn&&s.push(new Bt.On(i)),e._JT_hasAttr(k)&&!e._hasRun&&s.push(new Bt.Run(i)),e._JT_hasAttr(L)&&!e._hasAttr&&s.push(new Bt.Attr(i)),e._JT_hasAttr(F)&&!e._hasStyle&&s.push(new Bt.Style(i,!0))}function xe(t){be.call(this,t);var e=this;""!=this.ele._JT_txt().trim()&&(this.func=new Function("$","opt","return "+this.ele._JT_txt().trim())),this.$regist((function(){e.refresh()})),this.refresh(),qt.call(this,t)}function be(t){if(en("lang")){var e=i.type(t._data);("json"===e&&t.name in t._data||"array"===e&&void 0!==t._data[t.name])&&it(t._data[t.name],"type",nt)&&Bt.lang.jets.push(this)}}function je(t){be.call(this,t);var e=this;"number"!==this.ele._JT_attr("j-type")&&"number"!==this.ele._JT_attr("type")||(e.forceNum=!0),this.ele._JT_hasAttr("contenteditable")?(this.isContent=!0,""!=this.ele._JT_txt().trim()&&(this.func=new Function("$","return "+this.ele._JT_txt()))):"SELECT"!=this.ele.tagName&&""!=this.ele._JT_val().trim()&&(this.func=new Function("$","return "+this.ele._JT_val())),this.ele._attrVal==U&&c("输入框不能绑定数组的索引"),this.$regist((function(){e.refresh()})),this.isNum="number"==i.type(this.$getData());var n=this.ele.tagName,s=this.ele._JT_attr("type");null!==s&&(s=s.toLowerCase()),"SELECT"==n||"INPUT"==n&&"text"!=s&&"password"!=s&&"number"!=s&&null!=s?this.ele._JT_on("change",(function(){we.call(this,e)}),!0):(this.inputLock=!1,this.ele.addEventListener("compositionstart",(function(){e.inputLock=!0})),this.ele.addEventListener("compositionend",(function(){e.inputLock=!1,we.call(e.ele,e)})),this.ele._JT_on("input",(function(){e.inputLock||we.call(this,e)}),!0)),this.refresh(),qt.call(this,t)}function we(t){var e=t.isContent?this._JT_html():this._JT_val();if(t.forceNum)"NaN"===(e=parseFloat(e)).toString()&&(e="");else if(t.isNum){var n=parseFloat(e);e==n.toString()?(t.isNum=!0,e=n):t.isNum=!1}t.data[t.name]=e}function $e(t){return t._JT_replaceAll([["\\$.\\$par","_par"],["\\$index\\(","_index("],["\\$index","_index()"],["\\$","d"],["{{",""],["}}",""]])}function Ae(t){return new Function("d","dr","_par","_index","return ("+t+")")}function Oe(t,e){return t(e,this.jet,Be.bind(this),ke.bind(this))}function Ce(){if(this._attrVal._JT_has("$.$par")){this._parData=[this.data];for(var t=this;!t.par.$DOM;)t=t.par,this._parData.push(t.data)}}function Ee(){var t=this,e=this._attrVal;if(Ce.call(this),this.type==N)Ie(e,this),this.func_true=function(){t.ele.style.display=""},this.func_false=function(){t.ele.style.display="none"},e=e in this._data?"d."+e:$e(e),this.exp=Ae(e);else{var n=e.substring(0,e.indexOf(":"));Ie(n,this),n="object"!=typeof this._data?$e(n):n in this._data?"d."+n:$e(n),this.exp=Ae(n),e=e.substring(e.indexOf(":")+1);var i="",s="";e.split(";")._JT_each((function(e){if(e._JT_has("class[")){var n=e.substring(e.indexOf("[")+1,e.length-1);if(n._JT_has("|")){var r=n.split("|")[0].split(",").join(" "),a=n.split("|")[1].split(",").join(" ");i+="opt.ele._JT_removeClass('"+a+"')._JT_addClass('"+r+"');",s+="opt.ele._JT_removeClass('"+r+"')._JT_addClass('"+a+"');"}else n=n.split(",").join(" "),i+="opt.ele._JT_addClass('"+n+"');",s+="opt.ele._JT_removeClass('"+n+"');"}else if(e._JT_has("attr[")){if((f=e.substring(e.indexOf("[")+1,e.length-1))._JT_has("|")){var o=f.split("|")[0].split(","),_=[];o._JT_each((function(t){_.push(t.split("=")[0])}));var l=f.split("|")[1].split(","),h=[];l._JT_each((function(t){h.push(t.split("=")[0])})),o._JT_each((function(t){var e=t.split("=");1==e.length&&(e[1]=""),i+="opt.ele._JT_attr('"+e[0]+"','"+e[1]+"');",-1==h.indexOf(e[0])&&(s+="opt.ele._JT_removeAttr('"+e[0]+"');")})),l._JT_each((function(t){var e=t.split("=");1==e.length&&(e[1]=""),s+="opt.ele._JT_attr('"+e[0]+"','"+e[1]+"');",-1==_.indexOf(e[0])&&(i+="opt.ele._JT_removeAttr('"+e[0]+"');")}))}else f.split(",")._JT_each((function(t){var e=t.split("=");1==e.length&&(e[1]=""),i+="opt.ele._JT_attr('"+e[0]+"','"+e[1]+"');",s+="opt.ele._JT_removeAttr('"+e[0]+"');"}))}else if(e._JT_has("text[")){var u=e.substring(e.indexOf("[")+1,e.length-1);u._JT_has("|")?(i+="opt.ele._JT_txt('"+u.split("|")[0]+"');",s+="opt.ele._JT_txt('"+u.split("|")[1]+"');"):(i+="opt.ele._JT_txt('"+u+"');",s+="opt.ele._JT_txt('');")}else if(e._JT_has("html[")){var c=e.substring(e.indexOf("[")+1,e.length-1);c._JT_has("|")?(i+="opt.ele._JT_html('"+c.split("|")[0]+"');",s+="opt.ele._JT_html('"+c.split("|")[1]+"');"):(i+="opt.ele._JT_html('"+c+"');",s+="opt.ele._JT_html('');")}else if(e._JT_has("css[")){var f;(f=e.substring(e.indexOf("[")+1,e.length-1))._JT_has("|")?(i+="opt.ele._JT_removeAttr('style');",f.split("|")[0].split(",")._JT_each((function(t){var e=t.split("=");1==e.length&&(e[1]=""),i+="opt.ele._JT_css('"+e[0]+"','"+e[1]+"');"})),s+="opt.ele._JT_removeAttr('style');",f.split("|")[1].split(",")._JT_each((function(t){var e=t.split("=");1==e.length&&(e[1]=""),s+="opt.ele._JT_css('"+e[0]+"','"+e[1]+"');"}))):(i+="opt.ele._JT_removeAttr('style');",f.split(",")._JT_each((function(t){var e=t.split("=");1==e.length&&(e[1]=""),i+="opt.ele._JT_css('"+e[0]+"','"+e[1]+"');"})),s+="opt.ele._JT_removeAttr('style');")}else e._JT_has("|")?((e=e.split("|"))[0]in t.jet?i+="this."+e[0]+".call(this,opt);":i+=e[0],e[1]in t.jet?s+="this."+e[1]+".call(this,opt);":s+=e[1]):e in t.jet?i+="this."+e+".call(this,opt);":i+=e})),this.func_true=new Function("opt",i),this.func_false=new Function("opt",s)}this.refresh()}function Ie(t,e){var n=t.match(q),i=!1;if(null==n)t in e._data||t._JT_has("$."),e.$regist(t,(function(){e.refresh()}));else{var s=[];n.forEach((function(t){if(-1==s.indexOf(t))if(s.push(t),"{{$}}"==t)e.$regist((function(){e.refresh()}));else{var n=e,r=!1;if(t._JT_has("$r."))n=e.jet;else if(t._JT_has(".$par(")){var a=t.substring(t.indexOf(".$par(")+6,t.indexOf(")"));n=function(t,e){if(e>t._parData.length-1)return t.jet;var n=t._parData[e],i=t.par;for(;i.$getData()!==n&&!i.$DOM;)i=i.par;return i}(n,a=""===a?1:parseInt(a)),t="{{$"+t.substring(t.indexOf(")")+1)}else t._JT_has(U)&&(e._hasIndex=!0,i=!0,r=!0);r||("{{$}}"==t?e.$regist((function(){e.refresh()})):n.$regist(t.substring(2,t.length-2),(function(){e.refresh()})))}}))}return i}function De(){var t=this;this._attrVal.split(";;")._JT_each((function(e){e._JT_has(":")||(e="click:"+e);var n,i=e.substring(0,e.indexOf(":")),s=e.substring(e.indexOf(":")+1),r="",a=null,o=[],_=!1,l=[];if(s._JT_has("$valid"))if(en("valid")||c("未启用验证模块，不能使用$valid表达式"),s._JT_has("=>")){if(_=!0,n=Bt.valid.findValidPar(t.ele),(r=s.substring(s.indexOf("=>")+2).trim())._JT_has("|")){var h=r.split("|");r=h[0],a=h[1]}}else c('valid:"'+s+'" 格式有误，操作符为 =>');else r=s;var u=r.substring(0,r.indexOf(",")),f=t.jet.$props;if(r in t.jet||u in t.jet||f&&(r in f||u in f)?r.split(",").forEach((function(e){"function"!=typeof t.jet[e]&&f&&"function"!=typeof f[e]?c(e+" 不是一个方法"):t.jet[e]?l.push(t.jet[e]):l.push(f[e])})):l=[new Function("opt",r)],_&&null!=a){var p=a.substring(0,a.indexOf(","));a in t.jet||p in t.jet||f&&(a in f||p in f)?a.split(",").forEach((function(e){"function"!=typeof t.jet[e]?c(e+" 不是一个方法"):t.jet[e]?o.push(t.jet[e]):o.push(f[e])})):o=[new Function("opt",a)]}t.ele._JT_on(i,(function(e){var i={ele:this,data:t.$getData(),event:e,jet:t};_?n._JT_validate((function(){l.forEach((function(e){Se(e,t,i)}))}),(function(){o.forEach((function(e){Se(e,t,i)}))})):l.forEach((function(e){Se(e,t,i)}))}))}))}function Se(t,e,n){t.__props_child?(n.child=e.jet,t.call(e.jet,n),delete n.child):t.call(e.jet,n)}function Re(){this.runs=this._attrVal.split(","),this.runs[0]in this.jet&&"function"==typeof this.jet[this.runs[0]]||(this.runs=[this._attrVal]),this.run()}function Be(t){return(null==t||t<=0)&&(t=1),t>=this._parData.length?this._parData[this._parData.length-1]:this._parData[t-1]}function ke(t){for(var e=this.par;t>0;)"array"!=u((e=e.par)._data)&&(e=e.par),t--;return e.ele._JT_index()}function Le(){var t=this._attrVal;Ce.call(this),this.attrs={};var e=this;t._JT_has(";")?t.split(";").forEach((function(t){Fe.call(e,t)})):Fe.call(e,t),this.refresh()}function Fe(t){if(t._JT_has(":")){var e=t.indexOf(":"),n=t.substring(e+1);if(n._JT_has("{{")){var i=Ie(n,this),s=Ae(n=$e(n));i&&(s._hasIndex=!0),this.attrs[t.substring(0,e)]=s}else this.attrs[t.substring(0,e)]=new Function("return '"+n+"'")}else c(this.isStyle?"JStyle":"JAttr:必须指定属性的值")}Bt.Bind=function(t){Bt.Base.call(this,t,S),fe.call(this,t)},Bt.Bind.prototype=new kt,Bt.Bind.prototype.refresh=function(t){this._tools._jets._JT_each((function(e){e&&e.refresh(t)})),this._tools._jetTools._JT_each((function(e){e&&e.refresh(t)}))},Bt.Bind.prototype.$getData=function(){return this.data[this.name]},Bt.Bind.prototype.refreshIndex=function(t,e){this._tools._jets._JT_each((function(t){"Jtext"===t.type?t.refreshIndex(e):"Jinput"===t.type&&t.setIndex(e)})),this._tools._jetTools._JT_each((function(t){t._hasIndex&&t.refreshIndex(e)}))},Bt.For=function(t){Bt.Base.call(this,t,"Jfor"),me.call(this,t)},Bt.For.prototype=new kt,Bt.For.prototype.refresh=function(){},Bt.For.prototype.refreshIndex=function(t){for(var e=t||0;e<this._tools._jets.length;e++)this._tools._jets[e].refreshIndex(null,e);this.$makeChange()},Bt.For.prototype.$getData=function(){return this.data[this.name]},Bt.For.prototype.refresh.push=function(){if(this._switch){var t=this._data[this.name]._JT_last()[this._type];t in this._html?this.ele._JT_append(this._html[t]):c("swicth:指定属性的值不在swicth枚举内")}else this.ele._JT_append(this._html);var e=this.ele._JT_child()._JT_last(),n=this.data[this.name].length-1,s=ye(this,e,n);"array"==i.type(s.data[0])?this._tools._jets.push(new Bt.For(s)):this._tools._jets.push(new Bt.Bind(s)),ge(this,e,n),Te.call(this,e),Je.call(this),this.$makeChange()},Bt.For.prototype.refresh.prep=function(){if(this._switch){var t=this._data[this.name]._JT_first()[this._type];t in this._html?this.ele._JT_prepend(this._html[t]):c("swicth:指定属性的值不在swicth枚举内")}else this.ele._JT_prepend(this._html);var e=this.ele._JT_child(0),n=ye(this,e,0);"array"==i.type(n.data[0])?this._tools._jets._JT_prepend(new Bt.For(n)):this._tools._jets._JT_prepend(new Bt.Bind(n)),this.refreshIndex(1),ge(this,e,0),Te.call(this,e),Je.call(this)},Bt.For.prototype.refresh.insert=function(t){if(this._switch){var e=this._data[this.name][t][this._type];if(!(e in this._html))return void c("swicth:指定属性的值不在swicth枚举内");this.ele._JT_append(this._html[e],t)}else this.ele._JT_append(this._html,t);var n=this.ele._JT_child(t),s=ye(this,n,t);"array"==i.type(s.data[0])?this._tools._jets._JT_insert(new Bt.For(s),t):this._tools._jets._JT_insert(new Bt.Bind(s),t),this.refreshIndex(t),ge(this,n,t),Te.call(this,n),Je.call(this)},Bt.For.prototype.refresh.insertArray=function(t,e){var n=this,s=i.type(t[0]);t._JT_each((function(t,i){var r=e+i;if(n._switch){var a=n._data[n.name][r][n._type];a in n._html?n.ele._JT_append(n._html[a],r):c("swicth:指定属性的值不在swicth枚举内")}else n.ele._JT_append(n._html,r);var o=n.ele._JT_child(r),_=ye(n,o,r);"array"==s?n._tools._jets._JT_insert(new Bt.For(_),r):n._tools._jets._JT_insert(new Bt.Bind(_),r),ge(n,o,r),Te.call(n,o)})),this.refreshIndex(e+t.length),Je.call(this)},Bt.For.prototype.refresh.remove=function(t,e){for(var n=0;n<e;n++){var i=this.ele._JT_child(t);Te.call(this,i,!0),i._JT_remove()}this._tools._jets.splice(t,e),this.refreshIndex(t)},Bt.Text=function(t){Bt.Base.call(this,t,"Jtext"),this.isHtml=t.ele._JT_hasAttr("jhtml"),this._parIndex=t._parIndex,t.par=this,xe.call(this,t)},Bt.Text.prototype=new kt,Bt.Text.prototype.refresh=function(t){if(!t||t==this.name){var e=this.$getData();if(!d(e)){var n=this.func?this.func.call(this.jet,e,{data:e,ele:this.ele,jet:this,parData:this.data,root:this.jet}):e;this.isHtml?this.ele._JT_html(n):this.ele._JT_txt(n)}}},Bt.Text.prototype.refreshIndex=function(t){this._attrVal._JT_has(U)&&(this.index=void 0!==t?t:this.par._data.indexOf(this._data),this.refresh())},Bt.Text.prototype.$getData=function(){return this._parIndex?ke.call(this,this._parIndex):null!=this.index?this.index:this.data[this.name]},Bt.Text.prototype.setIndex=function(t){this.index=t,this.refresh(),this._tools._jetTools._JT_each((function(e){e.name==U&&e.refresh(t)}))},Bt.Text.prototype.setDataIndex=function(t){this.name=t},Bt.Input=function(t){Bt.Base.call(this,t,"Jinput"),t.par=this,je.call(this,t)},Bt.Input.prototype=new kt,Bt.Input.prototype.refresh=function(t){if(!t||t==this.name){var e=this.$getData();if(!d(e)){var n=this.func?this.func.call(this.jet,e):e;this.isContent?n!==(this.isNum?parseFloat(this.ele.innerHTML):this.ele.innerHTML)&&this.ele._JT_html(n):n!==(this.isNum?parseFloat(this.ele.value):this.ele.value)&&this.ele._JT_val(n)}}},Bt.Input.prototype.$getData=function(){return this.data[this.name]},Bt.Input.prototype.setIndex=function(t){"array"===i.type(this.data)&&"number"==typeof this.name&&void 0!==t&&(this.name=t)},Bt.If=function(t,e){this.exp=null,this.func_true=null,this.func_false=null,Bt.Base.call(this,t,e?N:R),Ee.call(this);var n=this.ele.__jet;void 0===n||"Jtext"!=n.type&&"Jinput"!=n.type||(this.needParData=!0)},Bt.If.prototype=new kt,Bt.If.prototype.$getData=function(){return this.name==U?(this.needParData,this.index):this.name==H||null==this.name?this.needParData?this.par.$DOM?this.par:this.par.data[this.par.name]:this.data:this.data[this.name]},Bt.If.prototype.refresh=function(t){null!=this.index&&null!=t&&this.index!=t&&this.index;var e=this.$getData();if(!d(e)){var n={ele:this.ele,data:e,jet:this,root:this.jet};!0===Oe.call(this,this.exp,e)?this.func_true.call(this.jet,n):this.func_false.call(this.jet,n)}},Bt.If.prototype.refreshIndex=function(){this._hasIndex&&this.refresh()},Bt.On=function(t){Bt.Base.call(this,t,B),De.call(this);var e=this.ele.__jet;void 0===e||"Jtext"!=e.type&&"Jinput"!=e.type?"object"!=typeof this.data&&(this.needParData=!0):this.needParData=!0},Bt.On.prototype=new kt,Bt.On.prototype.$getData=function(){return null!=this.index?this.index:null==this.data?null:null==this.name||this.name==H?this.needParData?this.par.$DOM?this.par:this.par.data[this.par.name]:this.data:this.data[this.name]},Bt.On.prototype.refresh=function(t){null!=this.index&&null!=t&&this.index!=t&&(this.index=t)},Bt.Run=function(t){Bt.Base.call(this,t,k),Re.call(this,t)},Bt.Run.prototype=new kt,Bt.Run.prototype.$getData=function(){return null!=this.index?this.index:null==this.data?null:null==this.name?this.data:this.data[this.name]},Bt.Run.prototype.refresh=function(t){null!=this.index&&null!=t&&this.index!=t&&this.index,this.run()},Bt.Run.prototype.run=function(){var t=this,e={ele:t.ele,data:t.$getData(),jet:t};this.runs._JT_each((function(n){n in t.jet&&"function"==typeof t.jet[n]?t.jet[n].call(t.jet,e):new Function("opt",n).call(t.jet,e)}))},Bt.Attr=function(t,e){Bt.Base.call(this,t,e?F:L),this.isStyle=e,this.setFunc=this.isStyle?this.ele._JT_css:this.ele._JT_attr,Le.call(this,t),"undefined"==typeof __jet||"Jtext"!=window.__jet.type&&"Jinput"!=window.__jet.type||(this.needParData=!0)},Bt.Attr.prototype=new kt,Bt.Attr.prototype.$getData=function(){return null!=this.index?this.index:null==this.data?null:null==this.name||this.name==H?(this.needParData&&(this.data=this.par.data[this.par.name]),this.data):this.data[this.name]},Bt.Attr.prototype.refresh=function(t){var e=this.$getData();if(!d(e))for(var n in this.attrs)t&&1!=this.attrs[n]._hasIndex||this.setFunc.call(this.ele,n,Oe.call(this,this.attrs[n],e))},Bt.Attr.prototype.refreshIndex=function(){this._hasIndex&&this.refresh(!0)},Bt.Style=Bt.Attr,Bt.Show=Bt.If;var Ne,Me,Pe=["render-time","router","css-config","res","valid","lang","module","tool","jui","less","babel"],He={jui:["tool"],"css-config":["@less","@babel"]},Ue={},Ve=-1,qe=[],Xe=[],Ge=[],ze=[];function Ke(t,e){return Ze(e)?{week:!0,depend:"@"+t,bedepend:e.substring(1)}:{week:!1,depend:t,bedepend:e}}function Qe(){for(var t in Ne=[],Me={},He)We(t),Ne.push(t),He[t].forEach((function(e){var n=Ke(t,e);We(e=n.bedepend),Me[e]?Me[e].push(n.depend):Me[e]=[n.depend]}))}function We(t){-1!=Pe.indexOf(t)||Ue[t]||c("未被识别的js库名["+t+"]。请先 Jet.use.define()的 module参数中声明。")}function Ye(t){for(var e in He)-1!==t.indexOf(e)&&He[e].forEach((function(n){Ze(n)||en(n)||-1!=t.indexOf(n)||(t.push(n),"pro"!==Bt.config.env&&p(e+" 依赖 "+n+",已自动添加依赖"))}))}function Ze(t){return"@"==t[0]}function tn(t){return Ze(t)?t.substring(1):t}function en(t){return-1!==Bt.use.list.indexOf(t)||-1!==Bt.__base__._useList.indexOf(t)}function nn(t,e){Ge[e]=t,ze[e]=new Date,Xe[e].forEach((function(t){(function(t,e){if(void 0===He[t])return!1;for(var n=Xe[e],i=[],s=0;s<He[t].length;s++){var r=He[t][s];if(Ze(r))i.push(tn(r));else if(!en(r))return!0}for(s=0;s<i.length;s++)if(-1!==n.indexOf(i[s])&&!en(i[s]))return!0;return!1})(t,e)||sn(t,e)}))}function sn(t,e){var n=t;-1!==Pe.indexOf(t)?n="assets/js/jet-lib/"+t+".js":Ue[t]&&(n=Ue[t]);var s=i.ct("script")._JT_attr({src:n});s.onload=function(){Bt.use.list.push(t),function(t,e){Me[t]&&Me[t].forEach((function(n){n=tn(n);for(var i=Xe[e],s=0;s<He[n].length;s++){var r=He[n][s],a=Ze(r);if(r=tn(r),a){if(n!==t&&!en(r)&&-1!==i.indexOf(r))return}else if(n!==t&&!en(r))return}en(n)||-1===Xe[e].indexOf(n)||sn(n,e)}))}(t,e),Bt.use._regist(t,e)},i.body()._JT_append(s)}Qe(),Bt.use=function(){Ve++;for(var t=C.splice.call(arguments,0),e=[],n=t.length-1;n>=0;n--)-1==e.indexOf(t[n])?e.push(t[n]):t._JT_removeByIndex(n);0==Bt.config.babel&&-1!==t.indexOf("babel")&&t._JT_removeByIndex(t.indexOf("babel")),0==Bt.config.less&&-1!==t.indexOf("less")&&t._JT_removeByIndex(t.indexOf("less"));var i=null,s=[],r=[];for(n=0;n<t.length;n++)if("string"==typeof t[n])if(-1!==Bt.use.list.indexOf(t[n]))"pro"!=Bt.config.env&&p("已经加载过该依赖："+t[n]+".本次加载跳过");else{var a=Pe.indexOf(t[n]);-1!==a?s[a]=t[n]:r.push(t[n])}else"function"==typeof t[n]?i=t[n]:c("use 方法参数错误："+t[n]);for(n=s.length-1;n>=0;n--)d(s[n])&&s.splice(n,1);r.length>0&&C.push.apply(s,r),Ye(s),Xe[Ve]=s,nn(i,Ve)},Bt.canUse=en,Bt.config={babel:!0,less:!0,env:"dev"},Bt.use.all=function(){for(var t=C.splice.call(arguments,0),e=[],n=t.length-1;n>=0;n--){var i=t[n];"string"==typeof i&&"-"==i[0]&&(e.push(i.substring(1)),t._JT_removeByIndex(n))}if(e.length>0){var s=[];Pe.forEach((function(t){-1===e.indexOf(t)&&s.push(t)})),C.unshift.apply(t,s)}else C.unshift.apply(t,Pe);Bt.use.apply(null,t)},Bt.use.define=function(t){if(t.lib){for(var e in t.lib)-1!==Pe.indexOf(e)?c("第三方库"+e+"与官方库命名冲突。["+Pe.toString()+"]"):".js"!==t.lib[e].substring(t.lib[e].length-3)&&(t.lib[e]+=".js");Ue=t.lib}if(t.depend)for(var e in t.depend)He[e]=t.depend[e];Qe()},Bt.use._regist=function(t,e){if(qe[e]?qe[e].push(t):qe[e]=[t],qe[e].length==Xe[e].length){var n=new Date-ze[e];Ge[e]&&(Ge[e](n),Ge[e]=void 0),"pro"!=Bt.config.env&&p("第"+(e+1)+"轮依赖加载完成！["+n+"ms]")}},Bt.use.list=[],Bt.use.allModule=Pe,Bt.__base__={_useList:[],_JT:i,_isUd:d,_throw:c,_info:p,_initDate:D,_dealSrc:ne,_jload:Xt,_jpath:Gt,__ROOT:"JET_ROOT",__comp_id:et,_scoped_style_id:re,__jet_root:"_root",__router_comp:"$routerComp",_loadStyleCall:se,_loadCompRes:Zt,_initSingleLoad:Kt,__router_comp:"$routerComp",_lang:nt,_getJdomEle:st,_numReg:X,_createEmpty:J,_checkFunction:l,_getSrc:te,_canUse:en,_initValidAndLang:mt,_babel:ce,_less:ue,_addScopedCss:le,_funcs:{},_funcs_id:0,_buildCompHtml:Qt},Bt.version="1.0.1",window.JET=function(t,e,n){return new Bt(t,e,n)},window.Jet=Bt,Object(I.a)(Bt);e.default=Bt}]).default}));